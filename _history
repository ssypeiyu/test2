{"entries":[{"timestamp":1747111888746,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables></variables>"],[1,"www.w3.org/1999/xhtml\">\n  "],[0,"<blo"]],"start1":12,"start2":12,"length1":70,"length2":37},{"diffs":[[0,"art\""],[-1," x=\"20\" y=\"20\""],[0,"></b"]],"start1":67,"start2":67,"length1":22,"length2":8},{"diffs":[[0,"</block>"],[1,"\n  "],[0,"<block t"]],"start1":72,"start2":72,"length1":16,"length2":19},{"diffs":[[0,"ver\""],[-1," x=\"225\" y=\"20\""],[0,"></b"]],"start1":107,"start2":107,"length1":23,"length2":8},{"diffs":[[0,"</block>"],[1,"\n"],[0,"</xml>"]],"start1":112,"start2":112,"length1":14,"length2":15}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"input.onButtonPressed(Button.A, function on_button_pressed_a() {\n    basic.showString(\"start!\")\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":99,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,".md\""],[-1,",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\""],[1,"\n    ],\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":216,"start2":216,"length1":64,"length2":44}]},{"type":"added","filename":"main.py","value":"def on_button_pressed_a():\n    basic.show_string(\"start!\")\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n"}]},{"timestamp":1747112246752,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"a)\n\n"],[-1,"def analyze_image():\n    \"\"\"\n    從哈士奇 AI 鏡頭接收結果並進行判斷\n    \"\"\"\n    # 檢查是否有 UART 數據可讀取\n    data = serial.read_string()\n\n    # 如果接收到數據，進行判斷\n    if data:\n        data = data.strip()\n        if data == \"RENEWABLE\":\n            basic.show_string(\"good\")\n        elif data == \"NON-RENEWABLE\":\n            basic.show_string(\"Try again\")\n        else:\n            basic.show_string(\"Unknown\")\n\n# 主循環\ndef on_forever():\n    analyze_image()\n    basic.pause(500)  # 每 0.5 秒檢查一次\n\nbasic.forever(on_forever)"]],"start1":112,"start2":112,"length1":494,"length2":4}]}]},{"timestamp":1747112869209,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n})\n"],[-1,"function analyze_image() {\n    /** 從哈士奇 AI 鏡頭接收結果並進行判斷 */\n    //  檢查是否有 UART 數據可讀取\n    let data = serial.readString()\n    //  如果接收到數據，進行判斷\n    if (data) {\n        data = _py.py_string_strip(data)\n        if (data == \"RENEWABLE\") {\n            basic.showString(\"good\")\n        } else if (data == \"NON-RENEWABLE\") {\n            basic.showString(\"Try again\")\n        } else {\n            basic.showString(\"Unknown\")\n        }\n        \n    }\n    \n}\n\n//  主循環\n//  每 0.5 秒檢查一次\nbasic.forever(function on_forever() {\n    analyze_image()\n    basic.pause(500)\n})\n"]],"start1":95,"start2":95,"length1":556,"length2":4}]}]},{"timestamp":1747112869452,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"!\")\n"],[-1,"    start_quiz()\n})\nlet question_count = 10\n//  題目數量\nlet time_limit = 30\n//  每題 30 秒\nfunction display_countdown(seconds: number) {\n    /** 顯示倒數時間，並同時檢查圖卡 */\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        basic.pause(1000)\n        //  每秒更新一次\n        //  在每秒倒數時檢查圖卡\n        analyze_image()\n    }\n}\n"],[1,"})"],[0,"\nfun"]],"start1":92,"start2":92,"length1":337,"length2":10},{"diffs":[[0,"/** "],[-1,"分析"],[1,"從"],[0,"哈士奇 "]],"start1":130,"start2":130,"length1":10,"length2":9},{"diffs":[[0,"I 鏡頭"],[-1,"回傳結果 */"],[1,"接收結果並進行判斷 */\n    //  檢查是否有 UART 數據可讀取"],[0,"\n   "]],"start1":140,"start2":140,"length1":15,"length2":45},{"diffs":[[0,"tring()\n"],[1,"    //  如果接收到數據，進行判斷\n"],[0,"    if ("]],"start1":209,"start2":209,"length1":16,"length2":37},{"diffs":[[0,"ng(\""],[-1,"G"],[1,"g"],[0,"ood\""]],"start1":356,"start2":356,"length1":9,"length2":9},{"diffs":[[0,"\")\n        }"],[1," else {"],[0,"\n        \n  "]],"start1":452,"start2":452,"length1":24,"length2":31},{"diffs":[[0,"    "],[-1,"\n"],[0,"    "],[-1,"}\n    \n}\n\nfunction start_quiz() {\n    /** 啟動題目 */\n    for (let question = 1; question < question_count + 1; question++) {"],[1,"basic.showString(\"Unknown\")\n        }\n        "],[0,"\n    "],[1,"}\n"],[0,"    "],[-1,"//  顯示題號\n        basic.showString(\"Q\" + (\"\" + question))\n        //  倒數計時並進行圖卡檢查\n        display_countdown(tim"],[1,"\n}\n\n//  主循環\n//  每 0.5 秒檢查一次\nbasic.forever(function on_forever() {\n    analyz"],[0,"e_"],[-1,"l"],[0,"im"],[-1,"it"],[1,"age("],[0,")\n"],[-1,"        //  短暫暫停\n    "],[0,"    "]],"start1":476,"start2":476,"length1":283,"length2":155},{"diffs":[[0,"use("],[-1,"10"],[1,"5"],[0,"00)\n"],[-1,"    }\n}\n"],[1,"})"],[0,"\n"]],"start1":639,"start2":639,"length1":19,"length2":12}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"t!\")"],[-1,"\n    start_quiz()"],[0,"\n\nin"]],"start1":54,"start2":54,"length1":25,"length2":8},{"diffs":[[0,"a)\n\n"],[-1,"question_count = 10  # 題目數量\ntime_limit = 30       # 每題 30 秒\n\ndef display_countdown(seconds):\n    \"\"\"\n    顯示倒數時間，並同時檢查圖卡\n    \"\"\"\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        basic.pause(1000)  # 每秒更新一次\n        \n        # 在每秒倒數時檢查圖卡\n        analyze_image()\n\n"],[0,"def "]],"start1":112,"start2":112,"length1":292,"length2":8},{"diffs":[[0,"    "],[-1,"分析"],[1,"從"],[0,"哈士奇 "]],"start1":145,"start2":145,"length1":10,"length2":9},{"diffs":[[0,"I 鏡頭"],[-1,"回傳結果\n    \"\"\""],[1,"接收結果並進行判斷\n    \"\"\"\n    # 檢查是否有 UART 數據可讀取"],[0,"\n   "]],"start1":155,"start2":155,"length1":20,"length2":48},{"diffs":[[0,"string()"],[1,"\n\n    # 如果接收到數據，進行判斷"],[0,"\n    if "]],"start1":223,"start2":223,"length1":16,"length2":36},{"diffs":[[0,"ng(\""],[-1,"G"],[1,"g"],[0,"ood\""]],"start1":352,"start2":352,"length1":9,"length2":9},{"diffs":[[0,"n\")\n"],[-1,"\ndef start_quiz():\n    \"\"\"\n    啟動題目\n    \"\"\"\n    for question in range(1, question_count + 1):\n        # 顯示題號\n        basic.show_string(\"Q\" + str(question))\n        # 倒數計時並進行圖卡檢查\n        display_countdown(time_limit)\n        # 短暫暫停\n    "],[1,"        else:\n            basic.show_string(\"Unknown\")\n\n# 主循環\ndef on_forever():\n    analyze_image()\n"],[0,"    "]],"start1":440,"start2":440,"length1":243,"length2":108},{"diffs":[[0,"use("],[-1,"1000)\n"],[1,"500)  # 每 0.5 秒檢查一次\n\nbasic.forever(on_forever)"]],"start1":556,"start2":556,"length1":10,"length2":50}]}]},{"timestamp":1747113197699,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"Good"],[-1," ㄖㄨㄟ"],[0,"\")\n "]],"start1":610,"start2":610,"length1":12,"length2":8}]}]},{"timestamp":1747114082943,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"Good"],[-1," ㄖㄨㄟ"],[0,"\")\n "]],"start1":637,"start2":637,"length1":12,"length2":8}]}]},{"timestamp":1747114083428,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"//  初始化\nlet question_count = 10\n//  題目數量\nlet time_limit = 30\n//  每題 30 秒\nlet advance_time = 300\n//  進階題階段時間（300秒）\nlet score = 0\n//  第一階段分數\nlet advance_score"],[1,"input.onButtonPressed(Button.A, function on_button_pressed_a() {\n    basic.showString(\"start!\")\n    start_quiz()\n})\nlet question_count"],[0," = "],[1,"1"],[0,"0\n//  "],[-1,"進階題分數\nlet is_advanced = false\n//  是否進入進階題階段\n// 第一階段code"],[1,"題目數量\nlet time_limit = 30\n//  每題 30 秒"],[0,"\nfun"]],"start1":0,"start2":0,"length1":224,"length2":184},{"diffs":[[0,"/** "],[-1,"倒數計時並"],[1,"顯示倒數時間，並同時"],[0,"檢查圖卡"]],"start1":231,"start2":231,"length1":13,"length2":18},{"diffs":[[0,"pause(1000)\n"],[1,"        //  每秒更新一次\n        //  在每秒倒數時檢查圖卡\n"],[0,"        anal"]],"start1":339,"start2":339,"length1":24,"length2":66},{"diffs":[[0,"I 鏡頭回傳結果 */\n"],[-1,"    \n"],[0,"    let data"]],"start1":468,"start2":468,"length1":29,"length2":24},{"diffs":[[0,"Good"],[-1,"\")\n            //  判斷是否為進階題階段\n            if (is_advanced) {\n                advance_score += 5\n            } else {\n                //  進階題得分\n                score += 1\n            }\n            "],[1," ㄖㄨㄟ\")"],[0,"\n   "]],"start1":637,"start2":637,"length1":204,"length2":14},{"diffs":[[0,") {\n"],[-1,"            //  第一階段得分\n"],[0,"    "]],"start1":690,"start2":690,"length1":31,"length2":8},{"diffs":[[0,"/** "],[-1,"第一階段測驗 */\n    \n    is_advanced = false\n    score = 0\n    //  重置分數"],[1,"啟動題目 */"],[0,"\n   "]],"start1":797,"start2":797,"length1":73,"length2":15},{"diffs":[[0,"estion++) {\n"],[1,"        //  顯示題號\n"],[0,"        basi"]],"start1":869,"start2":869,"length1":24,"length2":41},{"diffs":[[0,"stion))\n"],[1,"        //  倒數計時並進行圖卡檢查\n"],[0,"        "]],"start1":938,"start2":938,"length1":16,"length2":40},{"diffs":[[0,"_limit)\n"],[1,"        //  短暫暫停\n"],[0,"        "]],"start1":1000,"start2":1000,"length1":16,"length2":33},{"diffs":[[0,"  }\n"],[-1,"    //  顯示第一階段分數\n    basic.showString(\"Score:\")\n    basic.showNumber(score)\n}\n\n// 第二階段code\nfunction start_advanced() {\n    /** 進階題階段 */\n    \n    is_advanced = true\n    advance_score = 0\n    //  重置進階題分數\n    basic.showString(\"Advanced\")\n    display_countdown(advance_time)\n    //  顯示進階題分數\n    basic.showString(\"Adv Score:\")\n    basic.showNumber(advance_score)\n    //  顯示總分\n    basic.showString(\"Total:\")\n    basic.showNumber(score + advance_score)\n}\n\ninput.onButtonPressed(Button.A, function on_button_pressed_a() {\n    basic.showString(\"Start!\")\n    start_quiz()\n})\n//  持續檢查 A+B 是否同時按下\nbasic.forever(function check_ab_pressed() {\n    /** AB鍵開始 */\n    if (input.buttonIsPressed(Button.AB)) {\n        basic.showString(\"Adv Start!\")\n        start_advanced()\n    }\n    \n})"],[1,"}\n"],[0,"\n"]],"start1":1053,"start2":1053,"length1":772,"length2":7}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"# 初始化\nquestion_count = 10  # 題目數量\ntime_limit = 30       # 每題 30 秒\nadvance_time = 300    # 進階題階段時間（300秒）\nscore = 0             # 第一階段分數\nadvance_score = 0     # 進階題分數\nis_advanced = False   # 是否進入進階題階段\n\n#第一階段code"],[1,"def on_button_pressed_a():\n    basic.show_string(\"start!\")\n    start_quiz()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\nquestion_count = 10  # 題目數量\ntime_limit = 30       # 每題 30 秒"],[0,"\n\nde"]],"start1":0,"start2":0,"length1":213,"length2":196},{"diffs":[[0,"    "],[-1,"倒數計時並"],[1,"顯示倒數時間，並同時"],[0,"檢查圖卡"]],"start1":234,"start2":234,"length1":13,"length2":18},{"diffs":[[0,".pause(1000)"],[1,"  # 每秒更新一次\n        \n        # 在每秒倒數時檢查圖卡"],[0,"\n        ana"]],"start1":339,"start2":339,"length1":24,"length2":64},{"diffs":[[0,"\"\"\"\n"],[-1,"    global score, advance_score, is_advanced\n    \n"],[0,"    "]],"start1":470,"start2":470,"length1":58,"length2":8},{"diffs":[[0,"Good"],[-1,"\")\n            # 判斷是否為進階題階段\n            if is_advanced:\n                advance_score += 5  # 進階題得分\n            else:\n                score += 1  # 第一階段得分"],[1," ㄖㄨㄟ\")"],[0,"\n   "]],"start1":610,"start2":610,"length1":162,"length2":14},{"diffs":[[0,"    "],[-1,"第一階段測驗"],[1,"啟動題目"],[0,"\n   "]],"start1":729,"start2":729,"length1":14,"length2":12},{"diffs":[[0,"\"\"\"\n"],[-1,"    global score, is_advanced\n    is_advanced = False\n    score = 0  # 重置分數\n    \n"],[0,"    "]],"start1":742,"start2":742,"length1":89,"length2":8},{"diffs":[[0,"count + 1):\n"],[1,"        # 顯示題號\n"],[0,"        basi"]],"start1":784,"start2":784,"length1":24,"length2":39},{"diffs":[[0,"stion))\n"],[1,"        # 倒數計時並進行圖卡檢查\n"],[0,"        "]],"start1":850,"start2":850,"length1":16,"length2":38},{"diffs":[[0,"_limit)\n"],[1,"        # 短暫暫停\n"],[0,"        "]],"start1":910,"start2":910,"length1":16,"length2":31},{"diffs":[[0,"00)\n"],[-1,"    \n    # 顯示第一階段分數\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\n#第二階段code\n\ndef start_advanced():\n    \"\"\"\n    進階題階段\n    \"\"\"\n    global advance_score, is_advanced\n    is_advanced = True\n    advance_score = 0  # 重置進階題分數\n    \n    basic.show_string(\"Advanced\")\n    display_countdown(advance_time)\n    \n    # 顯示進階題分數\n    basic.show_string(\"Adv Score:\")\n    basic.show_number(advance_score)\n    \n    # 顯示總分\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\n\ndef check_ab_pressed():\n    \"\"\"\n    AB鍵開始 \n    \"\"\"\n    if input.button_is_pressed(Button.AB):\n        basic.show_string(\"Adv Start!\")\n        start_advanced()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# 持續檢查 A+B 是否同時按下\nbasic.forever(check_ab_pressed)\n"]],"start1":955,"start2":955,"length1":843,"length2":4}]}]},{"timestamp":1747114621641,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"Good"],[-1," job!"],[0,"\")\n "]],"start1":635,"start2":635,"length1":13,"length2":8},{"diffs":[[0,"ry again"],[-1,"!"],[0,"\")\n     "]],"start1":936,"start2":936,"length1":17,"length2":16}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"econds):"],[-1,"c"],[0,"\n    \"\"\""]],"start1":234,"start2":234,"length1":17,"length2":16},{"diffs":[[0,"Good"],[-1," job!"],[0,"\")\n "]],"start1":632,"start2":632,"length1":13,"length2":8},{"diffs":[[0,"ry again"],[-1,"!"],[0,"\")\n\ndef "]],"start1":861,"start2":861,"length1":17,"length2":16}]}]},{"timestamp":1747115055263,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"econds):"],[1,"c"],[0,"\n    \"\"\""]],"start1":234,"start2":234,"length1":16,"length2":17}]}]},{"timestamp":1747115837804,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"ry again"],[1,"!"],[0,"\")\n\ndef "]],"start1":866,"start2":866,"length1":16,"length2":17}]}]},{"timestamp":1747115838237,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"es><"],[-1,"variable id=\"l%)B0G|5!5^?AQi90C|U\">data</variable><variable id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</variable><variable id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</variable><variable id=\"K!/ojHdLsL}EBzEA_Uv4\">score</variable><variable id=\"i7M:+.u67IM[d]aOjKV%\">advance_time</variable><variable id=\"zU59R6|nTW8Py7`HGWI{\">question_count</variable><variable id=\"mW1@qCxnL~O7Znd/jog|\">time_limit</variable></variables><comment x=\"1147\" y=\"787\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1394\" y=\"787\" w=\"160\" h=\"120\">\n第一階段分數\n</comment><comment x=\"1599\" y=\"787\" w=\"160\" h=\"120\">\n進階題分數\n</comment><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zU59R6|nTW8Py7`HGWI{\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"mW1@qCxnL~O7Znd/jog|\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"i7M:+.u67IM[d]aOjKV%\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"391\" y=\"0\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"F,IMPVvfdz*:oz=~07Sy\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"639\" y=\"0\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"#:qvKiEWG_g!aSLM7zsM\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1035\" y=\"0\"><mutation name=\"display_countdown\" functionid=\"%n)+nFoOv)b725.#:C1v\"><arg name=\"seconds\" id=\"1qr2dt5dfffq7vwnx4i1zi\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"1qr2dt5dfffq7vwnx4i1zi\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let i = seconds; i &gt; 0; i += -1) {\" line1=\"        basic.showNumber(i)\" line2=\"        basic.pause(1000)\" line3=\"        analyze_image()\" line4=\"    }\" numlines=\"5\"></mutation></block></statement></block><block type=\"function_definition\" x=\"1490\" y=\"0\"><mutation name=\"analyze_image\" functionid=\"=dg/z4e2x10(LDQ(,dZR\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"787\"><mutation name=\"start_quiz\" functionid=\"F,IMPVvfdz*:oz=~07Sy\"></mutation><field name=\"function_name\">start_quiz</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + question))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"666\" y=\"787\"><mutation name=\"start_advanced\" functionid=\"#:qvKiEWG_g!aSLM7zsM\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"%n)+nFoOv)b725.#:C1v\"><arg name=\"seconds\" id=\"1qr2dt5dfffq7vwnx4i1zi\" type=\"number\"></arg></mutation><value name=\"1qr2dt5dfffq7vwnx4i1zi\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i7M:+.u67IM[d]aOjKV%\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement"],[1,"/variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\""],[0,"></b"]],"start1":63,"start2":63,"length1":10556,"length2":111}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"/"],[-1,"**\n * 進階題階段時間（300秒）\n */\n/**\n * 第一階段分數\n */\n/**\n * 進階題分數\n */"],[1,"/  初始化\nlet question_count = 10\n//  題目數量\nlet time_limit = 30\n//  每題 30 秒\nlet advance_time = 300\n//  進階題階段時間（300秒）\nlet score = 0\n//  第一階段分數\nlet advance_score = 0\n//  進階題分數\nlet is_advanced = false\n//  是否進入進階題階段\n// 第一階段code\nfunction display_countdown(seconds: number) {\n    /** 倒數計時並檢查圖卡 */\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        basic.pause(1000)\n        analyze_image()\n    }\n}\n\nfunction analyze_image() {\n    /** 分析哈士奇 AI 鏡頭回傳結果 */\n    \n    let data = serial.readString()\n    if (data) {\n        data = _py.py_string_strip(data)\n        if (data == \"RENEWABLE\") {\n            basic.showString(\"Good job!\")\n            //  判斷是否為進階題階段\n            if (is_advanced) {\n                advance_score += 5\n            } else {\n                //  進階題得分\n                score += 1\n            }\n            \n        } else if (data == \"NON-RENEWABLE\") {\n            //  第一階段得分\n            basic.showString(\"Try again!\")\n        }\n        \n    }\n    \n}\n"],[0,"\nfun"]],"start1":0,"start2":0,"length1":63,"length2":989},{"diffs":[[0,"art_quiz"],[-1," "],[0,"() {\n   "]],"start1":997,"start2":997,"length1":17,"length2":16},{"diffs":[[0,"   /"],[-1,"/"],[1,"**"],[0," 第一階段測驗"],[1," */\n    "],[0,"\n   "]],"start1":1011,"start2":1011,"length1":16,"length2":25},{"diffs":[[0,"  score = 0\n"],[1,"    //  重置分數\n"],[0,"    for (let"]],"start1":1059,"start2":1059,"length1":24,"length2":37},{"diffs":[[0,")\n    }\n"],[1,"    "],[0,"//"],[1," "],[0," 顯示第一階段分"]],"start1":1266,"start2":1266,"length1":18,"length2":23},{"diffs":[[0,")\n}\n"],[-1,"input.onButtonPressed(Button.A, function () {\n    basic.showString(\"Start!\")\n    start_quiz()\n})"],[0,"\n// "]],"start1":1348,"start2":1348,"length1":104,"length2":8},{"diffs":[[0,"advanced"],[-1," "],[0,"() {\n   "]],"start1":1380,"start2":1380,"length1":17,"length2":16},{"diffs":[[0,"   /"],[-1,"/"],[1,"**"],[0," 進階題階段"],[1," */\n    "],[0,"\n   "]],"start1":1394,"start2":1394,"length1":15,"length2":24},{"diffs":[[0,"0\n    //"],[1," "],[0," 重置進階題分數"]],"start1":1458,"start2":1458,"length1":16,"length2":17},{"diffs":[[0,")\n    //"],[1," "],[0," 顯示進階題分數"]],"start1":1543,"start2":1543,"length1":16,"length2":17},{"diffs":[[0,")\n    //"],[1," "],[0," 顯示總分\n  "]],"start1":1630,"start2":1630,"length1":16,"length2":17},{"diffs":[[0,")\n}\n"],[-1,"// 是否進入進階題階段\n// 第一階段code\nfunction display_countdown (seconds: number) {\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        basic.pause(1000)\n        analyze_image()\n    }\n}\nfunction analyze_image () {\n    // 分析哈士奇 AI 鏡頭回傳結果\n    data = serial.readString()\n    if (data) {\n        data = _py.py_string_strip(data)\nif (data == \"RENEWABLE\") {\n            basic.showString(\"Good job\")\n            // 判斷是否為進階題階段\n            if (is_advanced) {\n                advance_score += 5\n            } else {\n                // 進階題得分\n                score += 1\n            }\n        } else if (data == \"NON-RENEWABLE\") {\n            // 第一階段得分\n            basic.showString(\"Try again\")\n        }\n    }\n}\nlet data = \"\"\nlet advance_score = 0\nlet score = 0\nlet is_advanced = false\nlet advance_time = 0\n// 初始化\nlet question_count = 10\n// 題目數量\nlet time_limit = 30\n// 每題 30 秒\nadvance_time = 300\n//"],[1,"\ninput.onButtonPressed(Button.A, function on_button_pressed_a() {\n    basic.showString(\"Start!\")\n    start_quiz()\n})\n// "],[0," 持續檢"]],"start1":1718,"start2":1718,"length1":910,"length2":128},{"diffs":[[0,"unction "],[1,"check_ab_pressed"],[0,"() {\n   "]],"start1":1874,"start2":1874,"length1":16,"length2":32},{"diffs":[[0,"   /"],[-1,"/"],[1,"**"],[0," AB鍵開始"],[1," */"],[0,"\n   "]],"start1":1904,"start2":1904,"length1":15,"length2":19},{"diffs":[[0,")\n    }\n"],[1,"    \n"],[0,"})\n"]],"start1":2026,"start2":2026,"length1":11,"length2":16}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\""],[0,"\n   "]],"start1":132,"start2":132,"length1":76,"length2":8},{"diffs":[[0,"itor\": \""],[-1,"blocks"],[1,"py"],[0,"prj\"\n}\n"]],"start1":263,"start2":263,"length1":21,"length2":17}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"\"\"\"\n\n進階題階段時間（300秒）\n\n\"\"\"\n\"\"\""],[1,"# 初始化\nquestion_count = 10  # 題目數量\ntime_limit = 30       # 每題 30 秒\nadvance_time = 300    # 進階題階段時間（300秒）\nscore = 0             # 第一階段分數\nadvance_score = 0     # 進階題分數\nis_advanced = False   # 是否進入進階題階段"],[0,"\n\n"],[1,"#"],[0,"第一階段"],[-1,"分數\n\n\"\"\"\n\"\"\"\n\n進階題分數\n\n\"\"\"\ndef start_quiz():\n    global is_advanced, score\n    # 第一階段測驗"],[1,"code\n\ndef display_countdown(seconds):\n    \"\"\"\n    倒數計時並檢查圖卡\n    \"\"\"\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        basic.pause(1000)\n        analyze_image()\n\ndef analyze_image():\n    \"\"\"\n    分析哈士奇 AI 鏡頭回傳結果\n    \"\"\"\n    global score, advance_score, is_advanced\n    \n    data = serial.read_string()\n    if data:\n        data = data.strip()\n        if data == \"RENEWABLE\":\n            basic.show_string(\"Good job!\")\n            # 判斷是否為進階題階段\n            if is_advanced:\n                advance_score += 5  # 進階題得分\n            else:\n                score += 1  # 第一階段得分\n        elif data == \"NON-RENEWABLE\":\n            basic.show_string(\"Try again\")\n\ndef start_quiz():\n    \"\"\"\n    第一階段測驗\n    \"\"\"\n    global score, is_advanced"],[0,"\n   "]],"start1":0,"start2":0,"length1":121,"length2":956},{"diffs":[[0,"   score = 0"],[1,"  # 重置分數\n    "],[0,"\n    for que"]],"start1":978,"start2":978,"length1":24,"length2":37},{"diffs":[[0,"Q\" +"],[-1," (\"\" +"],[0," str"]],"start1":1081,"start2":1081,"length1":14,"length2":8},{"diffs":[[0,"estion))"],[-1,")"],[0,"\n       "]],"start1":1092,"start2":1092,"length1":17,"length2":16},{"diffs":[[0,"pause(1000)\n"],[1,"    \n"],[0,"    # 顯示第一階段"]],"start1":1153,"start2":1153,"length1":24,"length2":29},{"diffs":[[0,"e)\n\n"],[-1,"def on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# "],[1,"#"],[0,"第二階段"]],"start1":1243,"start2":1243,"length1":142,"length2":9},{"diffs":[[0,"\n\n#第二階段code\n"],[1,"\n"],[0,"def start_ad"]],"start1":1245,"start2":1245,"length1":24,"length2":25},{"diffs":[[0,"advanced():\n"],[1,"    \"\"\"\n    進階題階段\n    \"\"\"\n"],[0,"    global i"]],"start1":1268,"start2":1268,"length1":24,"length2":50},{"diffs":[[0,"bal "],[-1,"is_"],[0,"advance"],[-1,"d, advance_score\n    # 進階題階段"],[1,"_score, is_advanced"],[0,"\n   "]],"start1":1313,"start2":1313,"length1":46,"length2":34},{"diffs":[[0,"core = 0"],[-1,"\n  "],[0,"  # 重置進階"]],"start1":1380,"start2":1380,"length1":19,"length2":16},{"diffs":[[0,"  # 重置進階題分數\n"],[1,"    \n"],[0,"    basic.sh"]],"start1":1388,"start2":1388,"length1":24,"length2":29},{"diffs":[[0,"e_time)\n"],[1,"    \n"],[0,"    # 顯示"]],"start1":1467,"start2":1467,"length1":16,"length2":21},{"diffs":[[0,"_score)\n"],[1,"    \n"],[0,"    # 顯示"]],"start1":1559,"start2":1559,"length1":16,"length2":21},{"diffs":[[0,"re)\n"],[-1,"# 是否進入進階題階段\n# 第一階段code\ndef display_countdown(seconds: number):\n    i = seconds\n    while i > 0:\n        basic.show_number(i)\n        basic.pause(1000)\n        analyze_image()\n        i += -1\ndef analyze_image():\n    global data, advance_score, score\n    # 分析哈士奇 AI 鏡頭回傳結果\n    data = serial.read_string()\n    if data:\n        data = data.strip()\n        if data == \"RENEWABLE\":\n            basic.show_string(\"Good job\")\n            # 判斷是否為進階題階段\n            if is_advanced:\n                advance_score += 5\n            else:\n                # 進階題得分\n                score += 1\n        elif data == \"NON-RENEWABLE\":\n            # 第一階段得分\n            basic.show_string(\"Try again\")\ndata = \"\"\nadvance_score = 0\nscore = 0\nis_advanced = False\nadvance_time = 0\n# 初始化\nquestion_count = 10\n# 題目數量\ntime_limit = 30\n# 每題 30 秒\nadvance_time = 300\n# 持續檢查 A+B 是否同時按下\n\ndef on_forever():\n    # AB鍵開始"],[1,"\ndef on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\n\ndef check_ab_pressed():\n    \"\"\"\n    AB鍵開始 \n    \"\"\""],[0,"\n   "]],"start1":1656,"start2":1656,"length1":887,"length2":136},{"diffs":[[0,"d()\n"],[-1,"basic.forever(on_forever"],[1,"\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# 持續檢查 A+B 是否同時按下\nbasic.forever(check_ab_pressed"],[0,")\n"]],"start1":1893,"start2":1893,"length1":30,"length2":111}]}]},{"timestamp":1747116533463,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"py"],[1,"blocks"],[0,"prj\"\n}\n"]],"start1":331,"start2":331,"length1":17,"length2":21}]}]},{"timestamp":1747116535107,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score"],[1,"l%)B0G|5!5^?AQi90C|U\">data</variable><variable id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced"],[0,"</va"]],"start1":76,"start2":76,"length1":93,"length2":92},{"diffs":[[0,"ble id=\""],[-1,"}ikaH|?{h6Be]aoI_R+x"],[1,"(yE.)~2O#LX.M$c;9;:+"],[0,"\">advanc"]],"start1":181,"start2":181,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data"],[1,"K!/ojHdLsL}EBzEA_Uv4\">score</variable><variable id=\"i7M:+.u67IM[d]aOjKV%\">advance_time"],[0,"</va"]],"start1":245,"start2":245,"length1":141,"length2":94},{"diffs":[[0,"ble id=\""],[-1,"xLRoW@-QKG@DEI8yhWYR"],[1,"zU59R6|nTW8Py7`HGWI{"],[0,"\">questi"]],"start1":352,"start2":352,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"B^wKS]mhxim7M{qw0G$6"],[1,"mW1@qCxnL~O7Znd/jog|"],[0,"\">time_l"]],"start1":413,"start2":413,"length1":36,"length2":36},{"diffs":[[0,"x=\"1"],[-1,"603.28125"],[1,"147"],[0,"\" y=\""],[-1,"56"],[1,"78"],[0,"7\" w"]],"start1":485,"start2":485,"length1":24,"length2":18},{"diffs":[[0,"x=\"1"],[-1,"078.28125"],[1,"394"],[0,"\" y=\""],[-1,"56"],[1,"78"],[0,"7\" w=\""],[-1,"48"],[1,"16"],[0,"0\" h"]],"start1":566,"start2":566,"length1":32,"length2":26},{"diffs":[[0,"段分數\n"],[-1,"huskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)"],[1,"</comment><comment x=\"1599\" y=\"787\" w=\"160\" h=\"120\">\n進階題分數"],[0,"\n</c"]],"start1":603,"start2":603,"length1":73,"length2":66},{"diffs":[[0," x=\""],[-1,"2"],[0,"0\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":702,"start2":702,"length1":16,"length2":14},{"diffs":[[0,"ock "],[-1,"type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block "],[0,"type"]],"start1":744,"start2":744,"length1":172,"length2":8},{"diffs":[[0,"id=\""],[-1,"xLRoW@-QKG@DEI8yhWYR"],[1,"zU59R6|nTW8Py7`HGWI{"],[0,"\">qu"]],"start1":787,"start2":787,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"B^wKS]mhxim7M{qw0G$6"],[1,"mW1@qCxnL~O7Znd/jog|"],[0,"\">ti"]],"start1":1031,"start2":1031,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"p^LlwfyIexS[1E`-dYEu"],[1,"i7M:+.u67IM[d]aOjKV%"],[0,"\">advanc"]],"start1":1268,"start2":1268,"length1":36,"length2":36},{"diffs":[[0,"t></block></"],[-1,"next></block></"],[0,"statement></"]],"start1":1495,"start2":1495,"length1":39,"length2":24},{"diffs":[[0," x=\""],[-1,"41"],[1,"39"],[0,"1\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":1558,"start2":1558,"length1":17,"length2":16},{"diffs":[[0,"tionid=\""],[-1,"_%7B[4hTDpR^nvgF~+JI"],[1,"F,IMPVvfdz*:oz=~07Sy"],[0,"\"></muta"]],"start1":1824,"start2":1824,"length1":36,"length2":36},{"diffs":[[0,"x=\"6"],[-1,"5"],[1,"3"],[0,"9\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":1937,"start2":1937,"length1":16,"length2":15},{"diffs":[[0,"tionid=\""],[-1,"a:Yfy,#pB,fu]-2FXpn{"],[1,"#:qvKiEWG_g!aSLM7zsM"],[0,"\"></muta"]],"start1":2513,"start2":2513,"length1":36,"length2":36},{"diffs":[[0,"=\"10"],[-1,"5"],[1,"3"],[0,"5\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":2652,"start2":2652,"length1":16,"length2":15},{"diffs":[[0,"me=\""],[-1,"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsgli"],[1,"display_countdown\" functionid=\"%n)+nFoOv)b725.#:C1v\"><arg name=\"seconds\" id=\"1qr2dt5dfffq7vwnx4i1z"],[0,"i\" t"]],"start1":2678,"start2":2678,"length1":1670,"length2":106},{"diffs":[[0,"e name=\""],[-1,"f2ia07xij9sgs16czsgli"],[1,"1qr2dt5dfffq7vwnx4i1z"],[0,"i\"><bloc"]],"start1":2939,"start2":2939,"length1":37,"length2":37},{"diffs":[[0,"pe=\""],[-1,"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x"],[1,"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let i = seconds; i &gt; 0; i += -1) {\" line1=\"        basic.showNumber(i)\" line2=\"        basic.pause(1000)\" line3=\"        analyze_image()\" line4=\"    }\" numlines=\"5\"></mutation></block></statement></block><block type=\"function_definition\" x=\"1490\" y=\"0\"><mutation name=\"analyze_image\" functionid=\"=dg/z4e2x10(LDQ(,dZR\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"l%)B0G|5!5^?AQi90C|U\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"0\" y=\"787\"><mutation name=\"start_quiz\" functionid=\"F,IMPVvfdz*:oz=~07Sy\"></mutation><field name=\"function_name\">start_quiz</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + question))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"666\" y=\"787\"><mutation name=\"start_advanced\" functionid=\"#:qvKiEWG_g!aSLM7zsM\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Bpt6}%?z/dOig*7oKm@f\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"%n)+nFoOv)b725.#:C1v\"><arg name=\"seconds\" id=\"1qr2dt5dfffq7vwnx4i1zi\" type=\"number\"></arg></mutation><value name=\"1qr2dt5dfffq7vwnx4i1zi\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"i7M:+.u67IM[d]aOjKV%\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"K!/ojHdLsL}EBzEA_Uv4\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(yE.)~2O#LX.M$c;9;:+"],[0,"\">ad"]],"start1":3138,"start2":3138,"length1":6932,"length2":7302}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"/**\n * 進階題階段時間（300秒）\n */\n/**\n * 第一階段分數\n */\n/**\n * 進階題分數\n */\nfunction start_quiz () {\n    // 第一階段測驗\n    is_advanced = false\n    score = 0\n    for (let question = 1; question < question_count + 1; question++) {\n        basic.showString(\"Q\" + (\"\" + question))\n        display_countdown(time_limit)\n        basic.pause(1000)\n    }\n// 顯示第一階段分數\n    basic.showString(\"Score:\")\n    basic.showNumber(score)\n}\ninput.onButtonPressed(Button.A, function () {\n    basic.showString(\"Start!\")\n    start_quiz()\n})\n// 第二階段code\nfunction start_advanced () {\n    // 進階題階段\n    is_advanced = true\n    advance_score = 0\n    // 重置進階題分數\n    basic.showString(\"Advanced\")\n    display_countdown(advance_time)\n    // 顯示進階題分數\n    basic.showString(\"Adv Score:\")\n    basic.showNumber(advance_score)\n    // 顯示總分\n    basic.showString(\"Total:\")\n    basic.showNumber(score + advance_score)\n}\n// 是否進入進階題階段\n// 第一階段code\nfunction display_countdown (seconds: number) {\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        basic.pause(1000)\n        analyze_image()\n    }\n}\nfunction analyze_image () {\n    // 分析哈士奇 AI 鏡頭回傳結果\n    data = serial.readString()\n    if (data) {\n        data = _py.py_string_strip(data)\nif (data == \"RENEWABLE\") {\n            basic.showString(\"Good job\")\n            // 判斷是否為進階題階段\n            if (is_advanced) {\n                advance_score += 5\n            } else {\n                // 進階題得分\n                score += 1\n            }\n        } else if (data == \"NON-RENEWABLE\") {\n            // 第一階段得分\n            basic.showString(\"Try again\")\n        }\n    }\n}\nlet data = \"\"\nlet advance_score = 0\nlet score = 0\nlet is_advanced = false\nlet advance_time = 0\n// 初始化\nlet question_count = 10\n// 題目數量\nlet time_limit = 30\n// 每題 30 秒\nadvance_time = 300\n// 持續檢查 A+B 是否同時按下\nbasic.forever(function () {\n    // AB鍵開始\n    if (input.buttonIsPressed(Button.AB)) {\n        basic.showString(\"Adv Start!\")\n        start_advanced()\n    }\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1,"length2":1932}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"huskylens.init_i2c()\nhuskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\n\ndef check_image():\n    HuskyLens.request()\n    if HuskyLens.isAppear(HUSKYLENSResultType_t.HUSKYLENSResultBlock, 1):\n        basic.show_string(\"Good\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n        return False\n\n\ndef display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        if check_image():\n            if is_advanced:\n                global advance_score\n                advance_score += 5\n            else:\n                global score\n                score += 1\n            break  # 答對跳出此題倒數\n        basic.pause(1000)\n"],[1,"\"\"\"\n\n進階題階段時間（300秒）\n\n\"\"\"\n\"\"\"\n\n第一階段分數\n\n\"\"\"\n\"\"\"\n\n進階題分數\n\n\"\"\""],[0,"\ndef"]],"start1":0,"start2":0,"length1":794,"length2":60},{"diffs":[[0,"nced, score\n"],[1,"    # 第一階段測驗\n"],[0,"    is_advan"]],"start1":93,"start2":93,"length1":24,"length2":37},{"diffs":[[0,"    for "],[-1,"i"],[1,"question"],[0," in rang"]],"start1":156,"start2":156,"length1":17,"length2":24},{"diffs":[[0,"Q\" +"],[1," (\"\" +"],[0," str("],[-1,"i"],[1,"question)"],[0,"))\n "]],"start1":233,"start2":233,"length1":14,"length2":28},{"diffs":[[0,"_limit)\n"],[1,"        basic.pause(1000)\n    # 顯示第一階段分數\n"],[0,"    basi"]],"start1":290,"start2":290,"length1":16,"length2":57},{"diffs":[[0,"ber(score)\n\n"],[1,"def on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# 第二階段code\n"],[0,"def start_ad"]],"start1":389,"start2":389,"length1":24,"length2":167},{"diffs":[[0,"vance_score\n"],[1,"    # 進階題階段\n"],[0,"    is_advan"]],"start1":592,"start2":592,"length1":24,"length2":36},{"diffs":[[0,"e_score = 0\n"],[1,"    # 重置進階題分數\n"],[0,"    basic.sh"]],"start1":649,"start2":649,"length1":24,"length2":38},{"diffs":[[0,"g(\"A"],[-1,"DV"],[1,"dvanced"],[0,"\")\n "]],"start1":695,"start2":695,"length1":10,"length2":15},{"diffs":[[0,"e_time)\n"],[1,"    # 顯示進階題分數\n"],[0,"    basi"]],"start1":737,"start2":737,"length1":16,"length2":30},{"diffs":[[0,"ing(\"Adv"],[1," "],[0,"Score:\")"]],"start1":777,"start2":777,"length1":16,"length2":17},{"diffs":[[0,"_score)\n"],[1,"    # 顯示總分\n"],[0,"    basi"]],"start1":824,"start2":824,"length1":16,"length2":27},{"diffs":[[0,"re)\n"],[-1,"\ndef on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\n\ndef on_button_pressed_ab():\n    basic.show_string(\"AdvStart!\")\n    start_advanced()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n"],[1,"# 是否進入進階題階段\n# 第一階段code\ndef display_countdown(seconds: number):\n    i = seconds\n    while i > 0:\n        basic.show_number(i)\n        basic.pause(1000)\n        analyze_image()\n        i += -1\ndef analyze_image():\n    global data, advance_score, score\n    # 分析哈士奇 AI 鏡頭回傳結果\n    data = serial.read_string()\n    if data:\n        data = data.strip()\n        if data == \"RENEWABLE\":\n            basic.show_string(\"Good job\")\n            # 判斷是否為進階題階段\n            if is_advanced:\n                advance_score += 5\n            else:\n                # 進階題得分\n                score += 1\n        elif data == \"NON-RENEWABLE\":\n            # 第一階段得分\n            basic.show_string(\"Try again\")\ndata = \"\"\nadvance_score = 0\nscore = 0\nis_advanced = False\nadvance_time = 0\n# 初始化\nquestion_count = 10\n# 題目數量\ntime_limit = 30\n# 每題 30 秒\nadvance_time = 300\n# 持續檢查 A+B 是否同時按下\n\ndef on_forever():\n    # AB鍵開始\n    if "],[0,"input."],[-1,"on_"],[0,"button_"],[1,"is_"],[0,"pres"]],"start1":916,"start2":916,"length1":242,"length2":911},{"diffs":[[0,"n.AB"],[-1,", on_button_pressed_ab"],[1,"):\n        basic.show_string(\"Adv Start!\")\n        start_advanced()\nbasic.forever(on_forever"],[0,")\n"]],"start1":1836,"start2":1836,"length1":28,"length2":98}]}]},{"timestamp":1747117133307,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"huskylens.initI2c()\nhuskylens.initMode(protocolAlgorithm.OBJECTCLASSIFICATION)\nlet score = 0\nlet advance_score = 0\nlet is_advanced = false\nlet question_count = 10\nlet time_limit = 30\nlet advance_time = 300\n// huskylens,ID 要再確認\nfunction check_image(): boolean {\n    huskylens.request()\n    if (huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENSResultBlock)) {\n        basic.showString(\"Good\")\n        return true\n    } else {\n        basic.showString(\"Try again\")\n        return false\n    }\n    \n}\n\nfunction display_countdown(seconds: number) {\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        if (check_image()) {\n            if (is_advanced) {\n                \n                advance_score += 5\n            } else {\n                \n                score += 1\n            }\n            \n            break\n        }\n        \n        //  答對跳出此題倒數\n        basic.pause(1000)\n    }\n}\n\nfunction start_quiz() {\n    \n    is_advanced = false\n    score = 0\n    for (let i = 1; i < question_count + 1; i++) {\n        basic.showString(\"Q\" + (\"\" + i))\n        display_countdown(time_limit)\n    }\n    basic.showString(\"Score:\")\n    basic.showNumber(score)\n}\n\nfunction start_advanced() {\n    \n    is_advanced = true\n    advance_score = 0\n    basic.showString(\"ADV\")\n    display_countdown(advance_time)\n    basic.showString(\"AdvScore:\")\n    basic.showNumber(advance_score)\n    basic.showString(\"Total:\")\n    basic.showNumber(score + advance_score)\n}\n\ninput.onButtonPressed(Button.A, function on_button_pressed_a() {\n    basic.showString(\"Start!\")\n    start_quiz()\n})\ninput.onButtonPressed(Button.AB, function on_button_pressed_ab() {\n    basic.showString(\"AdvStart!\")\n    start_advanced()\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1711,"length2":1}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"00\n\n"],[-1,"#huskylens,ID 要再確認\n\n"],[0,"def "]],"start1":182,"start2":182,"length1":28,"length2":8},{"diffs":[[0,"():\n    "],[-1,"h"],[1,"H"],[0,"usky"],[-1,"l"],[1,"L"],[0,"ens.requ"]],"start1":201,"start2":201,"length1":22,"length2":22},{"diffs":[[0,"\n    if "],[-1,"h"],[1,"H"],[0,"usky"],[-1,"l"],[1,"L"],[0,"ens.isAp"]],"start1":228,"start2":228,"length1":22,"length2":22},{"diffs":[[0,"isAppear"],[-1,"_s"],[0,"(HUSKYLE"]],"start1":246,"start2":246,"length1":18,"length2":16},{"diffs":[[0,"LENS"],[-1,"_RESULT_BLOCK"],[1,"ResultBlock, 1"],[0,"):\n "]],"start1":282,"start2":282,"length1":21,"length2":22}]}]},{"timestamp":1747117587396,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"Good"],[-1," job"],[0,"\")\n "]],"start1":387,"start2":387,"length1":12,"length2":8},{"diffs":[[0,"     }\n        \n"],[1,"        //  答對跳出此題倒數\n"],[0,"        basic.pa"]],"start1":843,"start2":843,"length1":32,"length2":53},{"diffs":[[0,"tart!\")\n"],[-1,"    basic.pause(1000)\n"],[0,"    star"]],"start1":1558,"start2":1558,"length1":38,"length2":16},{"diffs":[[0,"tart!\")\n"],[-1,"    basic.pause(1000)\n"],[0,"    star"]],"start1":1679,"start2":1679,"length1":38,"length2":16}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0," = 300\n\n"],[-1,"\n"],[0,"#huskyle"]],"start1":178,"start2":178,"length1":17,"length2":16},{"diffs":[[0,"ID 要再確認\n"],[1,"\n"],[0,"def chec"]],"start1":197,"start2":197,"length1":16,"length2":17},{"diffs":[[0,"Good"],[-1," job"],[0,"\")\n "]],"start1":351,"start2":351,"length1":12,"length2":8},{"diffs":[[0," break  "],[1,"# 答對跳出此題倒數"],[0,"\n       "]],"start1":766,"start2":766,"length1":16,"length2":26},{"diffs":[[0,"tart!\")\n"],[-1,"    basic.pause(1000)\n"],[0,"    star"]],"start1":1452,"start2":1452,"length1":38,"length2":16},{"diffs":[[0,"essed_ab():\n"],[1,""],[0,"    basic.sh"]],"start1":1494,"start2":1494,"length1":24,"length2":24},{"diffs":[[0,"tart!\")\n"],[-1,"    basic.pause(1000)\n"],[0,"    star"]],"start1":1533,"start2":1533,"length1":38,"length2":16}]}]},{"timestamp":1747118218900,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"():\n"],[-1,"    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n"],[0,"    "]],"start1":1418,"start2":1418,"length1":112,"length2":8},{"diffs":[[0,"rt!\""],[-1,", 100)  # 第二個參數讓顯示速度變慢"],[1,")"],[0,"\n   "]],"start1":1448,"start2":1448,"length1":30,"length2":9},{"diffs":[[0,"se(1"],[-1,"5"],[1,"0"],[0,"00)"],[-1,"  # 給使用者時間準備"],[0,"\n   "]],"start1":1467,"start2":1467,"length1":24,"length2":12},{"diffs":[[0,"()\n\n"],[-1,"    is_running = False\n\n\n"],[0,"def "]],"start1":1490,"start2":1490,"length1":33,"length2":8}]}]},{"timestamp":1747118326878,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"300\n"],[-1,"let is_running = false\n"],[0,"// h"]],"start1":202,"start2":202,"length1":31,"length2":8},{"diffs":[[0,") {\n"],[-1,"    \n    if (is_running) {\n        return\n    }\n    \n    is_running = true\n    basic.clearScreen()\n"],[0,"    "]],"start1":1514,"start2":1514,"length1":107,"length2":8},{"diffs":[[0,"rt!\""],[-1,", 100"],[0,")\n"],[-1,"    //  第二個參數讓顯示速度變慢\n"],[0,"    "]],"start1":1543,"start2":1543,"length1":36,"length2":10},{"diffs":[[0,"se(1"],[-1,"5"],[1,"0"],[0,"00)\n    "],[-1,"//  給使用者時間準備\n    start_quiz()\n    is_running = false"],[1,"start_quiz()"],[0,"\n})\n"]],"start1":1562,"start2":1562,"length1":69,"length2":29}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"e = 300\n"],[-1,"is_running = False\n"],[0,"\n\n#husky"]],"start1":177,"start2":177,"length1":35,"length2":16}]}]},{"timestamp":1747118340964,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[1,"huskylens.init_i2c()\nhuskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)"],[0,"\n\nscore "]],"start1":0,"start2":0,"length1":8,"length2":88}]}]},{"timestamp":1747121042141,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[1,"huskylens.initI2c()\nhuskylens.initMode(protocolAlgorithm.OBJECTCLASSIFICATION)\n"],[0,"let score = "]],"start1":0,"start2":0,"length1":12,"length2":91}]}]},{"timestamp":1747121248816,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let use_huskylens = false\nif (use_huskylens) {\n    huskylens.initI2c()\n    huskylens.initMode(protocolAlgorithm.OBJECTCLASSIFICATION)\n}\n\n"],[0,"let "]],"start1":0,"start2":0,"length1":141,"length2":4}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[-1,"use_huskylens = False\nif use_huskylens:\n    huskylens.init_i2c()\n    huskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)"],[0,"\n\nsc"]],"start1":0,"start2":0,"length1":132,"length2":4},{"diffs":[[0,"    "],[-1,"huskylens.request()\n\n        # correct_answer\n        if check_image():\n            basic.show_string(\"Good job\")"],[1,"if check_image():"],[0,"\n   "]],"start1":502,"start2":502,"length1":121,"length2":25},{"diffs":[[0,"ak  "],[-1,"# ✅ 答對就結束本題，進入下一題\n\n        # wrong_answer\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n"],[0,"\n   "]],"start1":713,"start2":713,"length1":127,"length2":8},{"diffs":[[0,"e(1000)\n"],[-1,"        "],[0,"\ndef sta"]],"start1":736,"start2":736,"length1":24,"length2":16}]}]},{"timestamp":1747121762835,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n}\n\n"],[-1,"// check_wrong_image in ID  or in correct_image\n// def check_wrong_image():\n//     for id in [4, 5, 6]:  # 這些是錯誤圖卡 ID\n//         if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK, id):\n//             return True\n//     return False\nfunction check_wrong_image() {\n    //  有出現任何圖卡，但不是正確的圖卡\n    return huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENSResultBlock) && !check_image()\n}\n\n"],[0,"func"]],"start1":581,"start2":581,"length1":412,"length2":8},{"diffs":[[0,"    "],[-1,"huskylens.request()\n        //  correct_answer\n        if (check_image()) {\n            basic.showString(\"Good job\")"],[1,"if (check_image()) {"],[0,"\n   "]],"start1":707,"start2":707,"length1":124,"length2":28},{"diffs":[[0,"eak\n"],[-1,"        } else if (check_wrong_image()) {\n            //  ✅ 答對就結束本題，進入下一題\n            //  wrong_answer\n            basic.showString(\"Try again\")\n"],[0,"    "]],"start1":921,"start2":921,"length1":153,"length2":8},{"diffs":[[0,"tart!\", "],[-1,"5"],[1,"10"],[0,"0)\n    /"]],"start1":1721,"start2":1721,"length1":17,"length2":18},{"diffs":[[0,"//  "],[-1,"調整一下要多快"],[1,"第二個參數讓顯示速度變慢"],[0,"\n   "]],"start1":1738,"start2":1738,"length1":15,"length2":20},{"diffs":[[0,"   basic.pause(1"],[-1,"0"],[1,"5"],[0,"00)\n    //  準備時間"]],"start1":1756,"start2":1756,"length1":33,"length2":33},{"diffs":[[0,"//  "],[1,"給使用者時間"],[0,"準備"],[-1,"時間"],[0,"\n   "]],"start1":1781,"start2":1781,"length1":12,"length2":16}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"\": \"test"],[-1,"2"],[1,"1"],[0,"\",\n    \""]],"start1":11,"start2":11,"length1":17,"length2":17}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"lse\n"],[-1," \n#check_wrong_image in ID  or in correct_image\n\n#def check_wrong_image():\n#    for id in [4, 5, 6]:  # 這些是錯誤圖卡 ID\n#        if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK, id):\n#            return True\n#    return False\n\ndef check_wrong_image():\n    # 有出現任何圖卡，但不是正確的圖卡\n    return huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK) and not check_image()\n\n"],[0,"\n\nde"]],"start1":515,"start2":515,"length1":400,"length2":8},{"diffs":[[0,"e(1000)\n"],[1,"        "],[0,"\n"],[-1,""],[0,"def star"]],"start1":1079,"start2":1079,"length1":17,"length2":25},{"diffs":[[0,"!\", "],[-1,"5"],[1,"10"],[0,"0)  # "],[-1,"調整一下要多快"],[1,"第二個參數讓顯示速度變慢"],[0,"\n   "]],"start1":1844,"start2":1844,"length1":22,"length2":28},{"diffs":[[0,"se(1"],[-1,"0"],[1,"5"],[0,"00)  # "],[1,"給使用者時間"],[0,"準備"],[-1,"時間"],[0,"\n   "]],"start1":1882,"start2":1882,"length1":20,"length2":24}]}]},{"timestamp":1747122504319,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"string(\""],[-1,"✅"],[0,"Good job"]],"start1":410,"start2":410,"length1":17,"length2":16}]}]},{"timestamp":1747122507731,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n}\n\n"],[-1,"function display_advance_mode(seconds: number) {\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        huskylens.request()\n        if (check_image()) {\n            basic.showString(\"Good job\")\n            \n            advance_score += 5\n        } else if (check_wrong_image()) {\n            basic.showString(\"Try again\")\n        }\n        \n        basic.pause(1000)\n    }\n}\n\n// 第一階段def\n"],[0,"func"]],"start1":1620,"start2":1620,"length1":420,"length2":8},{"diffs":[[0,"rt_quiz() {\n"],[1,""],[0,"    \n    is_"]],"start1":1636,"start2":1636,"length1":24,"length2":24},{"diffs":[[0,"\n}\n\n"],[-1,"// 第二階段def\n"],[0,"func"]],"start1":1885,"start2":1885,"length1":19,"length2":8},{"diffs":[[0,"lay_"],[-1,"advance_mode"],[1,"countdown"],[0,"(adv"]],"start1":2003,"start2":2003,"length1":20,"length2":17},{"diffs":[[0,"me)\n"],[-1,"    //  ⚠️ 這裡改呼叫進階倒數函式\n"],[0,"    "]],"start1":2027,"start2":2027,"length1":31,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"ic.show_string(\""],[1,"✅"],[0,"Good job\")\n     "]],"start1":402,"start2":402,"length1":32,"length2":33},{"diffs":[[0,"0)\n\n"],[-1,"def display_advance_mode(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        if check_image():\n            basic.show_string(\"Good job\")\n            global advance_score\n            advance_score += 5\n\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n#第一階段def\n"],[0,"def "]],"start1":1477,"start2":1477,"length1":392,"length2":8},{"diffs":[[0,"e)\n\n"],[-1,"#第二階段def\n"],[0,"def "]],"start1":1746,"start2":1746,"length1":17,"length2":8},{"diffs":[[0,"lay_"],[-1,"advance_mode"],[1,"countdown"],[0,"(adv"]],"start1":1892,"start2":1892,"length1":20,"length2":17},{"diffs":[[0,"ime)"],[-1,"  # ⚠️ 這裡改呼叫進階倒數函式\n"],[0,"\n   "]],"start1":1915,"start2":1915,"length1":27,"length2":8},{"diffs":[[0,"_score)\n"],[-1,"\n"],[0,"    basi"]],"start1":1984,"start2":1984,"length1":17,"length2":16}]}]},{"timestamp":1747123207017,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"()\n\n"],[-1,"def display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        # correct_answer\n        if check_image():\n            basic.show_string(\"Good job\")\n            global score\n            score += 1  # ✅ 只加第一階段分數\n            break\n\n        # wrong_answer\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)"],[0,"\n\nde"]],"start1":907,"start2":907,"length1":442,"length2":8}]}]},{"timestamp":1747123212875,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n}\n\n"],[-1,"// 第一階段score\n"],[0,"func"]],"start1":985,"start2":985,"length1":21,"length2":8},{"diffs":[[0,"b\")\n            "],[-1,"\n"],[1,"if (is_advanced) {\n                \n                advance_score += 5\n            } else {\n                \n    "],[0,"            scor"]],"start1":1228,"start2":1228,"length1":33,"length2":145},{"diffs":[[0,"    "],[-1,"//  ✅ 只加第一階段分數"],[1,"}\n            "],[0,"\n   "]],"start1":1388,"start2":1388,"length1":22,"length2":22},{"diffs":[[0,"rong_image()) {\n"],[1,"            //  ✅ 答對就結束本題，進入下一題\n"],[0,"            //  "]],"start1":1451,"start2":1451,"length1":32,"length2":64},{"diffs":[[0,"\n}\n\n"],[-1,"// 第二階段score\n"],[0,"func"]],"start1":1620,"start2":1620,"length1":21,"length2":8},{"diffs":[[0,"\n}\n\n"],[-1,"music.play(music.stringPlayable(\"\", 120), music.PlaybackMode.UntilDone)\n"],[0,"// 第"]],"start1":2021,"start2":2021,"length1":80,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"()\n\n"],[-1,"#第一階段score\n"],[0,"def "]],"start1":907,"start2":907,"length1":19,"length2":8},{"diffs":[[0,"0)\n\n"],[-1,"#第二階段score"],[1,"def display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        # correct_answer\n        if check_image():\n            basic.show_string(\"Good job\")\n            if is_advanced:\n                global advance_score\n                advance_score += 5\n            else:\n                global score\n                score += 1\n            break  # ✅ 答對就結束本題，進入下一題\n\n        # wrong_answer\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n"],[0,"\ndef"]],"start1":1343,"start2":1343,"length1":18,"length2":574},{"diffs":[[0,"00)\n"],[-1,"music.play(music.string_playable(\"\", 120), music.PlaybackMode.UNTIL_DONE)"],[0,"\n#第一"]],"start1":2284,"start2":2284,"length1":81,"length2":8}]}]},{"timestamp":1747123488470,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," // "],[-1,"300秒"],[1," ⚠️ 這裡改呼叫進階倒數函式"],[0,"\n   "]],"start1":2414,"start2":2414,"length1":12,"length2":23},{"diffs":[[0," // "],[-1,"可以調一下速度\n    music.playMelody(\"C5 D5 E5 -\", 120)\n    // 可以確認一下音樂"],[1," 調整一下要多快"],[0,"\n   "]],"start1":2784,"start2":2784,"length1":71,"length2":16},{"diffs":[[0,"    basic.pause("],[-1,"5"],[1,"10"],[0,"00)\n    //  音樂結束"]],"start1":2797,"start2":2797,"length1":33,"length2":34},{"diffs":[[0,"//  "],[-1,"音樂結束多久後開始"],[1,"準備時間"],[0,"\n   "]],"start1":2823,"start2":2823,"length1":17,"length2":12},{"diffs":[[0,") {\n"],[-1,"    \n    if (is_running) {\n        return\n    }\n    \n    is_running = true\n    basic.clearScreen()\n"],[0,"    "]],"start1":2938,"start2":2938,"length1":107,"length2":8},{"diffs":[[0,"ng(\""],[1,"Adv"],[0,"Start!\""],[-1,", 50"],[0,")\n"],[-1,"    // 再調一下速度\n    music.playMelody(\"G4 A4 B4 -\", 120)\n    //  \n"],[0,"    "]],"start1":2960,"start2":2960,"length1":84,"length2":20},{"diffs":[[0,"use("],[-1,"5"],[1,"10"],[0,"00)\n    "],[-1,"//  音樂結束後稍作等待\n    start_advanced()\n    is_running = false"],[1,"start_advanced()"],[0,"\n})\n"]],"start1":2988,"start2":2988,"length1":74,"length2":34}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"me) "],[-1,"#300秒"],[1," # ⚠️ 這裡改呼叫進階倒數函式"],[0,"\n\n  "]],"start1":2273,"start2":2273,"length1":13,"length2":25},{"diffs":[[0,")  #"],[-1,"可以調一下速度\n    music.play_melody(\"C5 D5 E5 -\", 120)  #可以確認一下音樂\n"],[1," 調整一下要多快"],[0,"\n   "]],"start1":2612,"start2":2612,"length1":68,"length2":16},{"diffs":[[0,"use("],[-1,"5"],[1,"10"],[0,"00)  # "],[-1,"音樂結束多久後開始"],[1,"準備時間"],[0,"\n   "]],"start1":2637,"start2":2637,"length1":25,"length2":21},{"diffs":[[0,"():\n"],[-1,"    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n"],[0,"    "]],"start1":2722,"start2":2722,"length1":112,"length2":8},{"diffs":[[0,"ng(\""],[1,"Adv"],[0,"Start!\""],[-1,", 50) #再調一下速度\n    music.play_melody(\"G4 A4 B4 -\", 120)  # \n"],[1,")"],[0,"\n   "]],"start1":2745,"start2":2745,"length1":74,"length2":19},{"diffs":[[0,"use("],[-1,"5"],[1,"10"],[0,"00)"],[-1,"  # 音樂結束後稍作等待"],[0,"\n   "]],"start1":2773,"start2":2773,"length1":25,"length2":13},{"diffs":[[0,"()\n\n"],[-1,"    is_running = False\n\n"],[0,"inpu"]],"start1":2801,"start2":2801,"length1":32,"length2":8}]}]},{"timestamp":1747124087938,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"0)\n    }\n}\n\n"],[1,"music.play(music.stringPlayable(\"\", 120), music.PlaybackMode.UntilDone)\n"],[0,"// 第一階段def\nf"]],"start1":1895,"start2":1895,"length1":24,"length2":96},{"diffs":[[0,"n()\n"],[-1,"    let start_text = \"START!\"\n    let start_tones = [262, 294, 330, 349, 392, 440]\n    //  C4 ~ A4 對應每個字\n    for (let i = 0; i < start_text.length; i++) {\n    "],[0,"    "]],"start1":2731,"start2":2731,"length1":167,"length2":8},{"diffs":[[0,"ing("],[-1,"s"],[1,"\"S"],[0,"tart"],[-1,"_text[i])\n        music.playTone(start_tones[i], music.beat(BeatFraction.Eighth))\n        basic.pause(100)\n    }"],[1,"!\", 50)\n    // 可以調一下速度\n    music.playMelody(\"C5 D5 E5 -\", 120)\n    // 可以確認一下音樂"],[0,"\n   "]],"start1":2752,"start2":2752,"length1":125,"length2":92},{"diffs":[[0,"asic.pause(500)\n"],[1,"    //  音樂結束多久後開始\n"],[0,"    start_quiz()"]],"start1":2846,"start2":2846,"length1":32,"length2":50},{"diffs":[[0,"    "],[-1,"let adv_text = \"STRAT!\"\n    let adv_tones = [220, 196, 175, 165]\n    for (let i = 0; i < adv_text.length; i++) {\n        basic.showString(adv_text[i])\n        music.playTone(adv_tones[i], music.beat(BeatFraction.Eighth)"],[1,"basic.showString(\"Start!\", 50)\n    // 再調一下速度\n    music.playMelody(\"G4 A4 B4 -\", 120"],[0,")\n    "],[1,"//  \n"],[0,"    "]],"start1":3089,"start2":3089,"length1":233,"length2":102},{"diffs":[[0,"use("],[-1,"1"],[1,"5"],[0,"00)\n    "],[-1,"}\n    basic.pause(500)"],[1,"//  音樂結束後稍作等待"],[0,"\n   "]],"start1":3199,"start2":3199,"length1":39,"length2":30}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"e(1000)\n"],[1,"music.play(music.string_playable(\"\", 120), music.PlaybackMode.UNTIL_DONE)"],[0,"\n#第一階段de"]],"start1":1735,"start2":1735,"length1":16,"length2":89},{"diffs":[[0,"n()\n"],[-1,"\n    start_text = \"START!\"\n    start_tones = [262, 294, 330, 349, 392, 440]  # C4 ~ A4 對應每個字\n\n    for i in range(len(start_text)):\n    "],[0,"    "]],"start1":2562,"start2":2562,"length1":143,"length2":8},{"diffs":[[0,"ing("],[-1,"s"],[1,"\"S"],[0,"tart"],[-1,"_text[i])\n        music.play_tone(start_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)"],[1,"!\", 50)  #可以調一下速度\n    music.play_melody(\"C5 D5 E5 -\", 120)  #可以確認一下音樂"],[0,"\n\n  "]],"start1":2584,"start2":2584,"length1":120,"length2":83},{"diffs":[[0,"basic.pause(500)"],[1,"  # 音樂結束多久後開始"],[0,"\n    start_quiz("]],"start1":2669,"start2":2669,"length1":32,"length2":45},{"diffs":[[0,"_quiz()\n"],[1,"\n"],[0,"    is_r"]],"start1":2708,"start2":2708,"length1":16,"length2":17},{"diffs":[[0,"n()\n"],[-1,"\n    adv_text = \"STRAT!\"\n    adv_tones = [220, 196, 175, 165]  \n\n    for i in range(len(adv_text)):\n    "],[0,"    "]],"start1":2870,"start2":2870,"length1":112,"length2":8},{"diffs":[[0,"ing("],[-1,"adv_text[i])\n    "],[1,"\"Start!\", 50) #再調一下速度\n"],[0,"    "]],"start1":2892,"start2":2892,"length1":25,"length2":30},{"diffs":[[0,"lay_"],[-1,"tone(adv_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)"],[1,"melody(\"G4 A4 B4 -\", 120)  # "],[0,"\n\n  "]],"start1":2929,"start2":2929,"length1":84,"length2":37},{"diffs":[[0,"use(500)"],[1,"  # 音樂結束後稍作等待"],[0,"\n    sta"]],"start1":2976,"start2":2976,"length1":16,"length2":29},{"diffs":[[0,"anced()\n"],[1,"\n"],[0,"    is_r"]],"start1":3011,"start2":3011,"length1":16,"length2":17}]}]},{"timestamp":1747124684588,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"e_score = 0\n"],[1,"    basic.showString(\"ADV\")\n"],[0,"    display_"]],"start1":2260,"start2":2260,"length1":24,"length2":52},{"diffs":[[0,"t adv_text = \"ST"],[-1,"A"],[0,"R"],[1,"A"],[0,"T!\"\n    let adv_"]],"start1":3197,"start2":3197,"length1":34,"length2":34}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"e_score = 0\n"],[1,"    basic.show_string(\"ADV\")\n"],[0,"    display_"]],"start1":2124,"start2":2124,"length1":24,"length2":53},{"diffs":[[0,"  adv_text = \"ST"],[-1,"A"],[0,"R"],[1,"A"],[0,"T!\"\n    adv_tone"]],"start1":2962,"start2":2962,"length1":34,"length2":34}]}]},{"timestamp":1747125561762,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"_image\n\n"],[1,"#"],[0,"def chec"]],"start1":560,"start2":560,"length1":16,"length2":17},{"diffs":[[0,"age("],[-1,"shown_ids: List[number]"],[0,"):\n"],[1,"#"],[0,"    "]],"start1":587,"start2":587,"length1":34,"length2":12},{"diffs":[[0,"  # "],[-1,"根據你的"],[1,"這些是"],[0,"錯誤圖卡 ID\n"],[1,"#"],[0,"    "]],"start1":619,"start2":619,"length1":20,"length2":20},{"diffs":[[0,"K, id):\n"],[1,"#"],[0,"        "]],"start1":710,"start2":710,"length1":16,"length2":17},{"diffs":[[0,"    "],[-1,"if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False"],[1,"return True\n#    return False\n\ndef check_wrong_image():\n    # 有出現任何圖卡，但不是正確的圖卡\n    return huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK) and not check_image()\n"],[0,"\n#第一"]],"start1":727,"start2":727,"length1":113,"length2":187}]}]},{"timestamp":1747125565029,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"er])"],[-1," -> bool"],[0,":\n  "]],"start1":610,"start2":610,"length1":16,"length2":8},{"diffs":[[0,"  # "],[1,"根據你的"],[0,"錯誤圖卡 ID"],[-1,"（請依你的圖卡設定）"],[0,"\n   "]],"start1":640,"start2":640,"length1":25,"length2":19},{"diffs":[[0,"n False\n"],[-1,"\n#====="],[1,"#"],[0,"第一階段scor"]],"start1":849,"start2":849,"length1":23,"length2":17},{"diffs":[[0,"一階段score"],[-1,"====="],[0,"\ndef dis"]],"start1":859,"start2":859,"length1":21,"length2":16},{"diffs":[[0,"1000)\n\n#"],[-1,"===="],[0,"第二階段scor"]],"start1":1297,"start2":1297,"length1":20,"length2":16},{"diffs":[[0,"二階段score"],[-1,"===="],[0,"\ndef dis"]],"start1":1306,"start2":1306,"length1":20,"length2":16},{"diffs":[[0,"r):\n"],[-1,"    shown_wrong_ids = []  # 已提示過的錯誤圖卡 ID\n"],[0,"    "]],"start1":1354,"start2":1354,"length1":49,"length2":8},{"diffs":[[0,"age("],[-1,"shown_wrong_ids"],[0,"):\n "]],"start1":1612,"start2":1612,"length1":23,"length2":8},{"diffs":[[0,")\n\n#"],[-1,"====="],[0,"第一階段def"],[-1,"====="],[0,"\ndef"]],"start1":1687,"start2":1687,"length1":25,"length2":15},{"diffs":[[0,")\n\n#"],[-1,"====="],[0,"第二階段def"],[-1,"======"],[0,"\ndef"]],"start1":1965,"start2":1965,"length1":26,"length2":15},{"diffs":[[0,"ce_time)"],[-1," "],[0," #300秒\n\n"]],"start1":2112,"start2":2112,"length1":17,"length2":16},{"diffs":[[0,"se\n\n"],[-1,"#====按鍵===="],[0,"\ndef"]],"start1":2739,"start2":2739,"length1":19,"length2":8}]}]},{"timestamp":1747125870029,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"r):\n"],[-1,"    shown_wrong_ids = [] \n"],[0,"    "]],"start1":929,"start2":929,"length1":34,"length2":8},{"diffs":[[0,"lens.request()\n\n"],[1,"        # correct_answer\n"],[0,"        if check"]],"start1":1011,"start2":1011,"length1":32,"length2":57},{"diffs":[[0,"ore += 1"],[1,"  # ✅ 只加第一階段分數"],[0,"\n       "]],"start1":1159,"start2":1159,"length1":16,"length2":30},{"diffs":[[0," break\n\n"],[1,"        # wrong_answer\n"],[0,"        "]],"start1":1193,"start2":1193,"length1":16,"length2":39},{"diffs":[[0,"wrong_image("],[-1,"shown_wrong_ids"],[0,"):\n         "]],"start1":1243,"start2":1243,"length1":39,"length2":24},{"diffs":[[0,"ds = [] "],[1," # 已提示過的錯誤圖卡 ID"],[0,"\n    for"]],"start1":1408,"start2":1408,"length1":16,"length2":31}]}]},{"timestamp":1747126306814,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," \n}\n\n// "],[-1,"====="],[0,"check_wr"]],"start1":580,"start2":580,"length1":21,"length2":16},{"diffs":[[0,"age "],[-1,"ID=====\n// ===第一階段wrong====\nfunction check_wrong_image_phase1(shown_ids: number[]): boolean {\n"],[1,"in ID  or in correct_image\n// def check_wrong_image():\n// "],[0,"    for "],[-1,"(let "],[0,"id "],[-1,"of [1, 2, 5]) {\n"],[1,"in [4, 5, 6]:  # 這些是錯誤圖卡 ID\n// "],[0,"    "]],"start1":602,"start2":602,"length1":134,"length2":108},{"diffs":[[0,"D\n//         if "],[-1,"("],[0,"huskylens.isAppe"]],"start1":701,"start2":701,"length1":33,"length2":32},{"diffs":[[0,"r_s("],[-1,"id)) {\n            if (!(shown_ids.indexOf(id) >= 0)) {\n                shown_ids.push(id)\n  "],[1,"HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK, id):\n//"],[0,"    "]],"start1":734,"start2":734,"length1":101,"length2":61},{"diffs":[[0,"    "],[-1," "],[0,"return "],[-1,"t"],[1,"T"],[0,"rue\n"],[-1,"            }\n            \n        }\n        \n    }\n"],[1,"// "],[0,"    "]],"start1":800,"start2":800,"length1":73,"length2":23},{"diffs":[[0,"urn "],[-1,"f"],[1,"F"],[0,"alse\n"],[-1,"}\n\n// ===第二階段wrong====\n"],[0,"func"]],"start1":826,"start2":826,"length1":37,"length2":14},{"diffs":[[0,"mage"],[-1,"_phase2(shown_ids: number[]): boolean {\n    for (let id of [8, 9]) {\n        if (huskylens.isAppear_s(id)) {\n            if (!(shown_ids.indexOf(id) >= 0)) {\n                shown_ids.push(id)\n                return true\n            }\n            \n        }\n        \n    }\n    return false"],[1,"() {\n    //  有出現任何圖卡，但不是正確的圖卡\n    return huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENSResultBlock) && !check_image()"],[0,"\n}\n\n// "],[-1,"====="],[0,"第一階段"]],"start1":858,"start2":858,"length1":309,"length2":138},{"diffs":[[0,"一階段score"],[-1,"====="],[0,"\nfunctio"]],"start1":993,"start2":993,"length1":21,"length2":16},{"diffs":[[0,") {\n"],[-1,"    let shown_wrong_ids : number[] = []\n"],[0,"    "]],"start1":1044,"start2":1044,"length1":48,"length2":8},{"diffs":[[0,"ylens.request()\n"],[1,"        //  correct_answer\n"],[0,"        if (chec"]],"start1":1132,"start2":1132,"length1":32,"length2":59},{"diffs":[[0,"re += 1\n"],[1,"            //  ✅ 只加第一階段分數\n"],[0,"        "]],"start1":1273,"start2":1273,"length1":16,"length2":43},{"diffs":[[0,"mage"],[-1,"_phase1(shown_wrong_ids)) {"],[1,"()) {\n            //  wrong_answer"],[0,"\n   "]],"start1":1358,"start2":1358,"length1":35,"length2":42},{"diffs":[[0,"}\n}\n\n// "],[-1,"===="],[0,"第二階段scor"]],"start1":1488,"start2":1488,"length1":20,"length2":16},{"diffs":[[0,"二階段score"],[-1,"===="],[0,"\nfunctio"]],"start1":1497,"start2":1497,"length1":20,"length2":16},{"diffs":[[0,") {\n"],[-1,"    let shown_wrong_ids : number[] = []\n"],[0,"    "]],"start1":1551,"start2":1551,"length1":48,"length2":8},{"diffs":[[0,"mage"],[-1,"_phase2(shown_wrong_ids"],[1,"("],[0,")) {"]],"start1":1801,"start2":1801,"length1":31,"length2":9},{"diffs":[[0,"\n// "],[-1,"====="],[0,"第一階段def"],[-1,"====="],[0,"\nfun"]],"start1":1906,"start2":1906,"length1":25,"length2":15},{"diffs":[[0,"\n// "],[-1,"====="],[0,"第二階段def"],[-1,"======"],[0,"\nfun"]],"start1":2182,"start2":2182,"length1":26,"length2":15},{"diffs":[[0,"\n}\n\n"],[-1,"// ====按鍵====\n"],[0,"inpu"]],"start1":2467,"start2":2467,"length1":22,"length2":8}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"alse\n \n#"],[-1,"====="],[0,"check_wr"]],"start1":514,"start2":514,"length1":21,"length2":16},{"diffs":[[0,"age "],[-1,"ID=====\n#===第一階段wrong====\ndef check_wrong_image_phase1(shown_ids: List[number]) -> bool:\n    for id in [1, 2, 5]:\n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False\n#===第二階段wrong===="],[1,"in ID  or in correct_image\n"],[0,"\ndef"]],"start1":536,"start2":536,"length1":294,"length2":35},{"diffs":[[0,"_wrong_image"],[-1,"_phase2"],[0,"(shown_ids: "]],"start1":577,"start2":577,"length1":31,"length2":24},{"diffs":[[0,"in ["],[-1,"8, 9"],[1,"4, 5, 6"],[0,"]:"],[1,"  # 錯誤圖卡 ID（請依你的圖卡設定）"],[0,"\n   "]],"start1":635,"start2":635,"length1":14,"length2":38},{"diffs":[[0,"ppear_s("],[1,"HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK, "],[0,"id):\n   "]],"start1":694,"start2":694,"length1":16,"length2":62},{"diffs":[[0,"rong_ids"],[-1,": List[number]"],[0," = [] "],[-1," "],[0,"\n    for"]],"start1":944,"start2":944,"length1":37,"length2":22},{"diffs":[[0,"mage"],[-1,"_phase1"],[0,"(sho"]],"start1":1214,"start2":1214,"length1":15,"length2":8},{"diffs":[[0,"_ids"],[-1,": List[number]"],[0," = [] "],[-1," "],[0,"\n   "]],"start1":1385,"start2":1385,"length1":29,"length2":14},{"diffs":[[0,"e += 5\n\n"],[1,""],[0,"        "]],"start1":1615,"start2":1615,"length1":16,"length2":16},{"diffs":[[0,"mage"],[-1,"_phase2"],[0,"(sho"]],"start1":1649,"start2":1649,"length1":15,"length2":8}]}]},{"timestamp":1747126632497,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[0," = 0"],[-1,"\n\n    # 第一回合：6 題"],[0,"\n   "]],"start1":2088,"start2":2088,"length1":24,"length2":8},{"diffs":[[0,"(1, "],[-1,"7):  # Q1 ~ Q6\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n\n    # 第二回合：5 題\n    for i in range(7,"],[1,"question_count +"],[0," 1"],[-1,"2"],[0,"):"],[-1,"  # Q7 ~ Q11"],[0,"\n   "]],"start1":2111,"start2":2111,"length1":155,"length2":28},{"diffs":[[0,"_limit)\n"],[-1,"\n"],[0,"    basi"]],"start1":2206,"start2":2206,"length1":17,"length2":16}]}]},{"timestamp":1747127816106,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,") {\n"],[-1,"    let i: number;\n"],[0,"    "]],"start1":2318,"start2":2318,"length1":27,"length2":8},{"diffs":[[0,"= 0\n"],[-1,"    //  第一回合：6 題\n"],[0,"    "]],"start1":2361,"start2":2361,"length1":25,"length2":8},{"diffs":[[0," 0\n    for ("],[1,"let "],[0,"i = 1; i < 7"]],"start1":2362,"start2":2362,"length1":24,"length2":28},{"diffs":[[0,"i < "],[-1,"7; i++) {\n        //  Q1 ~ Q6\n        basic.showString(\"Q\" + (\"\" + i))\n        display_countdown(time_limit)\n    }\n    //  第二回合：5 題\n    for (i = 7; i <"],[1,"question_count +"],[0," 1"],[-1,"2"],[0,"; i+"]],"start1":2385,"start2":2385,"length1":162,"length2":26},{"diffs":[[0,") {\n"],[-1,"        //  Q7 ~ Q11\n"],[0,"    "]],"start1":2412,"start2":2412,"length1":29,"length2":8}]}]},{"timestamp":1747127816442,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n}\n\n"],[-1,"/** 要確認wrong ID */\n"],[0,"// ="]],"start1":581,"start2":581,"length1":27,"length2":8},{"diffs":[[0," ID====="],[-1," "],[0,"\n// ===第"]],"start1":610,"start2":610,"length1":17,"length2":16},{"diffs":[[0,"rn false\n}\n\n"],[1,"// ===第二階段wrong====\n"],[0,"function che"]],"start1":949,"start2":949,"length1":24,"length2":44},{"diffs":[[0,"n {\n"],[-1,"    for (let id of [6, 7]) {\n        if (huskylens.isAppear_s(id)) {\n            if (!(shown_ids.indexOf(id) >= 0)) {\n                shown_ids.push(id)\n                return true\n            }\n            \n        }\n        \n    }\n    return false\n}\n\n// ===第二階段wrong====\nfunction check_wrong_image_phase3(shown_ids: number[]): boolean {\n"],[0,"    "]],"start1":1043,"start2":1043,"length1":347,"length2":8},{"diffs":[[0,"\n}\n\n"],[-1,"function display_countdown_phase2(seconds: number) {\n    let shown_wrong_ids : number[] = []\n    for (let i = seconds; i > 0; i += -1) {\n        basic.showNumber(i)\n        huskylens.request()\n        if (check_image()) {\n            basic.showString(\"Good job\")\n            \n            score += 1\n            break\n        } else if (check_wrong_image_phase2(shown_wrong_ids)) {\n            basic.showString(\"Try again\")\n        }\n        \n        basic.pause(1000)\n    }\n}\n\n"],[0,"// ="]],"start1":1789,"start2":1789,"length1":485,"length2":8},{"diffs":[[0,"ge_phase"],[-1,"3"],[1,"2"],[0,"(shown_w"]],"start1":2151,"start2":2151,"length1":17,"length2":17},{"diffs":[[0,"    "],[-1,"basic.showString(\"ROUND 1\")"],[1,"//  第一回合：6 題"],[0,"\n   "]],"start1":2384,"start2":2384,"length1":35,"length2":20},{"diffs":[[0,"//  "],[-1,"第一回合 Q1~"],[1,"Q1 ~ "],[0,"Q6\n "]],"start1":2439,"start2":2439,"length1":16,"length2":13},{"diffs":[[0,"    "],[-1,"basic.showString(\"ROUND 2\")"],[1,"//  第二回合：5 題"],[0,"\n   "]],"start1":2536,"start2":2536,"length1":35,"length2":20},{"diffs":[[0,"//  "],[-1,"第二回合 Q7~"],[1,"Q7 ~ "],[0,"Q11\n"]],"start1":2592,"start2":2592,"length1":16,"length2":13},{"diffs":[[0,"\"Q\" + (\"\" + i))\n"],[1,""],[0,"        display_"]],"start1":2630,"start2":2630,"length1":32,"length2":32},{"diffs":[[0,"ountdown"],[-1,"_phase2"],[0,"(time_li"]],"start1":2663,"start2":2663,"length1":23,"length2":16}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"lse\n"],[-1,"\n\n\"\"\"\n要確認wrong ID\n\"\"\"\n"],[1," "],[0,"\n#=="]],"start1":515,"start2":515,"length1":30,"length2":9},{"diffs":[[0," ID====="],[-1," "],[0,"\n#===第一階"]],"start1":544,"start2":544,"length1":17,"length2":16},{"diffs":[[0,", 2, 5]:"],[-1," "],[0,"\n       "]],"start1":650,"start2":650,"length1":17,"length2":16},{"diffs":[[0,"n False\n"],[1,"#===第二階段wrong===="],[0,"\ndef che"]],"start1":806,"start2":806,"length1":16,"length2":33},{"diffs":[[0,"ol:\n"],[-1,"    for id in [6, 7]: \n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False   \n#===第二階段wrong====\ndef check_wrong_image_phase3(shown_ids: List[number]) -> bool:\n"],[0,"    "]],"start1":891,"start2":891,"length1":270,"length2":8},{"diffs":[[0,"0)\n\n"],[-1,"def display_countdown_phase2(seconds: number):\n    shown_wrong_ids: List[number] = []\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        if check_image():\n            basic.show_string(\"Good job\")\n            global score\n            score += 1\n            break\n\n        elif check_wrong_image_phase2(shown_wrong_ids):\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n\n"],[0,"#==="]],"start1":1527,"start2":1527,"length1":451,"length2":8},{"diffs":[[0,"ge_phase"],[-1,"3"],[1,"2"],[0,"(shown_w"]],"start1":1889,"start2":1889,"length1":17,"length2":17},{"diffs":[[0,"    "],[-1,"basic.show_string(\"ROUND 1\")"],[1,"# 第一回合：6 題"],[0,"\n   "]],"start1":2094,"start2":2094,"length1":36,"length2":18},{"diffs":[[0,"  # "],[-1,"第一回合 Q1~"],[1,"Q1 ~ "],[0,"Q6\n "]],"start1":2134,"start2":2134,"length1":16,"length2":13},{"diffs":[[0,"    "],[-1,"basic.show_string(\"ROUND 2\")"],[1,"# 第二回合：5 題"],[0,"\n   "]],"start1":2225,"start2":2225,"length1":36,"length2":18},{"diffs":[[0,"  # "],[-1,"第二回合 Q7~"],[1,"Q7 ~ "],[0,"Q11\n"]],"start1":2266,"start2":2266,"length1":16,"length2":13},{"diffs":[[0,"ountdown"],[-1,"_phase2"],[0,"(time_li"]],"start1":2336,"start2":2336,"length1":23,"length2":16}]}]},{"timestamp":1747128339566,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"(i)\n"],[-1,"        //  每 3 秒辨識一次\n        if (i % 3 == 0) {\n    "],[0,"    "]],"start1":1816,"start2":1816,"length1":60,"length2":8},{"diffs":[[0,"ylens.request()\n"],[-1,"    "],[0,"        if (chec"]],"start1":1832,"start2":1832,"length1":36,"length2":32},{"diffs":[[0,") {\n            "],[-1,"    "],[0,"basic.showString"]],"start1":1873,"start2":1873,"length1":36,"length2":32},{"diffs":[[0,"b\")\n            "],[-1,"    "],[0,"\n               "]],"start1":1914,"start2":1914,"length1":36,"length2":32},{"diffs":[[0,"   \n            "],[-1,"    "],[0,"score += 1\n     "]],"start1":1927,"start2":1927,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"    "],[0,"break\n"],[-1,"    "],[0,"        } el"]],"start1":1954,"start2":1954,"length1":38,"length2":30},{"diffs":[[0,"    "],[-1,"    music.playTone(196, music.beat(BeatFraction.Eighth))\n                basic.showString(\"X\")\n            }\n            "],[1,"basic.showString(\"Try again\")"],[0,"\n   "]],"start1":2044,"start2":2044,"length1":129,"length2":37},{"diffs":[[0,"(i)\n"],[-1,"        if (i % 3 == 0) {\n    "],[0,"    "]],"start1":2293,"start2":2293,"length1":38,"length2":8},{"diffs":[[0,"quest()\n        "],[-1,"    "],[0,"if (check_image("]],"start1":2317,"start2":2317,"length1":36,"length2":32},{"diffs":[[0,"heck_image()) {\n"],[-1,"    "],[0,"            basi"]],"start1":2338,"start2":2338,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"    \n    "],[1,"\n"],[0,"            "]],"start1":2395,"start2":2395,"length1":33,"length2":25},{"diffs":[[0,"            "],[-1,"    "],[0,"break\n"],[-1,"    "],[0,"        } el"]],"start1":2431,"start2":2431,"length1":38,"length2":30},{"diffs":[[0,"    "],[-1,"    music.playTone(196, music.beat(BeatFraction.Eighth))\n                basic.showString(\"X\")\n            }\n            "],[1,"basic.showString(\"Try again\")"],[0,"\n   "]],"start1":2521,"start2":2521,"length1":129,"length2":37},{"diffs":[[0,"(i)\n"],[-1,"        if (i % 3 == 0) {\n    "],[0,"    "]],"start1":2787,"start2":2787,"length1":38,"length2":8},{"diffs":[[0,"s.request()\n"],[-1,"    "],[0,"        if ("]],"start1":2807,"start2":2807,"length1":28,"length2":24},{"diffs":[[0,") {\n            "],[-1,"    "],[0,"basic.showString"]],"start1":2844,"start2":2844,"length1":36,"length2":32},{"diffs":[[0,"b\")\n            "],[-1,"    "],[0,"\n               "]],"start1":2885,"start2":2885,"length1":36,"length2":32},{"diffs":[[0,"        "],[-1,"    "],[0,"advance_"]],"start1":2906,"start2":2906,"length1":20,"length2":16},{"diffs":[[0,"re += 5\n"],[-1,"    "],[0,"        "]],"start1":2925,"start2":2925,"length1":20,"length2":16},{"diffs":[[0,"rong_image_phase"],[-1,"2"],[1,"3"],[0,"(shown_wrong_ids"]],"start1":2959,"start2":2959,"length1":33,"length2":33},{"diffs":[[0,"    "],[-1,"    music.playTone(196, music.beat(BeatFraction.Eighth))\n                basic.showString(\"X\")\n            }\n            "],[1,"basic.showString(\"Try again\")"],[0,"\n   "]],"start1":3005,"start2":3005,"length1":129,"length2":37}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"ist[number] = []"],[-1,"\n"],[1,"  "],[0,"\n    for i in ra"]],"start1":1424,"start2":1424,"length1":33,"length2":34},{"diffs":[[0,"(i)\n"],[-1,"\n        # 每 3 秒辨識一次\n        if i % 3 == 0:\n    "],[0,"    "]],"start1":1504,"start2":1504,"length1":56,"length2":8},{"diffs":[[0,"uest()\n\n        "],[-1," "],[-1,"   "],[0,"if check_image()"]],"start1":1529,"start2":1529,"length1":36,"length2":32},{"diffs":[[0," check_image():\n"],[-1,"    "],[0,"            basi"]],"start1":1547,"start2":1547,"length1":36,"length2":32},{"diffs":[[0,"b\")\n            "],[-1,"   "],[-1," "],[0,"global score\n   "]],"start1":1601,"start2":1601,"length1":36,"length2":32},{"diffs":[[0,"   global score\n"],[-1,"    "],[0,"            scor"]],"start1":1614,"start2":1614,"length1":36,"length2":32},{"diffs":[[0,"= 1\n            "],[-1,"    "],[0,"break\n\n         "]],"start1":1649,"start2":1649,"length1":36,"length2":32},{"diffs":[[0," break\n\n        "],[-1," "],[-1,"   "],[0,"elif check_wrong"]],"start1":1664,"start2":1664,"length1":36,"length2":32},{"diffs":[[0,"s):\n"],[-1,"                music.play_tone(196, music.beat(BeatFraction.EIGHTH))\n    "],[0,"    "]],"start1":1724,"start2":1724,"length1":82,"length2":8},{"diffs":[[0,"ic.show_string(\""],[-1,"X"],[1,"Try again"],[0,"\")\n\n        basi"]],"start1":1743,"start2":1743,"length1":33,"length2":41},{"diffs":[[0,"st[number] = []\n"],[-1,"\n"],[0,"    for i in ran"]],"start1":1869,"start2":1869,"length1":33,"length2":32},{"diffs":[[0,"(i)\n"],[-1,"\n        if i % 3 == 0:\n    "],[0,"    "]],"start1":1946,"start2":1946,"length1":36,"length2":8},{"diffs":[[0,"uest()\n\n        "],[-1,"    "],[0,"if check_image()"]],"start1":1971,"start2":1971,"length1":36,"length2":32},{"diffs":[[0,"():\n            "],[-1,"  "],[-1,"  "],[0,"basic.show_strin"]],"start1":2001,"start2":2001,"length1":36,"length2":32},{"diffs":[[0,"b\")\n            "],[-1,"    "],[0,"global score\n   "]],"start1":2043,"start2":2043,"length1":36,"length2":32},{"diffs":[[0,"ore\n            "],[-1,"   "],[-1," "],[0,"score += 1\n     "]],"start1":2068,"start2":2068,"length1":36,"length2":32},{"diffs":[[0,"= 1\n            "],[-1,"    "],[0,"break\n\n         "]],"start1":2091,"start2":2091,"length1":36,"length2":32},{"diffs":[[0," break\n\n        "],[-1,"   "],[-1," "],[0,"elif check_wrong"]],"start1":2106,"start2":2106,"length1":36,"length2":32},{"diffs":[[0,"s):\n"],[-1,"                music.play_tone(196, music.beat(BeatFraction.EIGHTH))\n    "],[0,"    "]],"start1":2166,"start2":2166,"length1":82,"length2":8},{"diffs":[[0,"ic.show_string(\""],[-1,"X"],[1,"Try again"],[0,"\")\n\n        basi"]],"start1":2185,"start2":2185,"length1":33,"length2":41},{"diffs":[[0,"er] = []"],[-1,"\n"],[1,"  "],[0,"\n    for"]],"start1":2334,"start2":2334,"length1":17,"length2":18},{"diffs":[[0,"(i)\n"],[-1,"\n        if i % 3 == 0:\n    "],[0,"    "]],"start1":2406,"start2":2406,"length1":36,"length2":8},{"diffs":[[0,"()\n\n        "],[-1,"    "],[0,"if check_ima"]],"start1":2435,"start2":2435,"length1":28,"length2":24},{"diffs":[[0,"():\n            "],[-1,"  "],[-1,"  "],[0,"basic.show_strin"]],"start1":2461,"start2":2461,"length1":36,"length2":32},{"diffs":[[0,"            "],[-1,"    "],[0,"global advan"]],"start1":2507,"start2":2507,"length1":28,"length2":24},{"diffs":[[0,"        "],[-1,"   "],[-1," "],[0,"advance_"]],"start1":2544,"start2":2544,"length1":20,"length2":16},{"diffs":[[0," 5\n\n        "],[-1,"   "],[-1," "],[0,"elif check_w"]],"start1":2568,"start2":2568,"length1":28,"length2":24},{"diffs":[[0,"rong_image_phase"],[-1,"2"],[1,"3"],[0,"(shown_wrong_ids"]],"start1":2592,"start2":2592,"length1":33,"length2":33},{"diffs":[[0,"s):\n"],[-1,"                music.play_tone(196, music.beat(BeatFraction.EIGHTH))\n    "],[0,"    "]],"start1":2624,"start2":2624,"length1":82,"length2":8},{"diffs":[[0,"ng(\""],[-1,"X"],[1,"Try again"],[0,"\")\n\n"]],"start1":2655,"start2":2655,"length1":9,"length2":17}]}]},{"timestamp":1747128910797,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"se\n/"],[-1,"** 要確認correct ID */"],[1,"/ huskylens,ID 要再確認"],[0,"\nfun"]],"start1":284,"start2":284,"length1":27,"length2":27},{"diffs":[[0,"ck_image"],[-1,"_phase1"],[0,"(): bool"]],"start1":320,"start2":320,"length1":23,"length2":16},{"diffs":[[0,"    "],[-1,"for (let id of [3, 4]) {\n        //  ✅ 請改為你第一回合的正確圖卡 ID\n        if (huskylens.isAppear_s(id)) {\n            return true\n        }\n        \n    }\n    return false\n}\n\nfunction check_image_phase2(): boolean {\n    for (let id of [6, 7]) {\n        //  ✅ 請改為你第二回合的正確圖卡 ID\n        if (huskylens.isAppear_s(id)) {\n   "],[1,"huskylens.request()\n    if (huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENSResultBlock)) {\n        basic.showString(\"Good job\")\n"],[0,"        "],[-1," "],[0,"retu"]],"start1":342,"start2":342,"length1":326,"length2":149},{"diffs":[[0,"    "],[-1,"    }\n        "],[1,"} else {"],[0,"\n    "],[-1,"}\n"],[0,"    "],[-1,"return false\n}\n\nfunction check_image_phase3(): boolean {\n    for (let id of [10, 11]) {\n        //  ✅ 第二階段用的正確圖卡 ID\n        if (huskylens.isAppear_s(id)) {\n            return true\n        }\n        \n    }\n    return false"],[1,"basic.showString(\"Try again\")\n        return false\n    }\n    "],[0,"\n}\n\n"]],"start1":499,"start2":499,"length1":254,"length2":86},{"diffs":[[0,"ng ID */\n// "],[-1,"==============="],[0,"=====check_w"]],"start1":595,"start2":595,"length1":39,"length2":24},{"diffs":[[0," ID====="],[-1,"="],[0," \n// ==="]],"start1":629,"start2":629,"length1":17,"length2":16},{"diffs":[[0,"e\n}\n\n// "],[-1,"========="],[0,"===第二階段w"]],"start1":1295,"start2":1295,"length1":25,"length2":16},{"diffs":[[0,"===="],[-1,"==============第一階段score============="],[1,"第一階段score"],[0,"===="]],"start1":1643,"start2":1643,"length1":44,"length2":17},{"diffs":[[0,"ck_image"],[-1,"_phase1"],[0,"()) {\n  "]],"start1":1919,"start2":1919,"length1":23,"length2":16},{"diffs":[[0,"ck_image"],[-1,"_phase2"],[0,"()) {\n  "]],"start1":2542,"start2":2542,"length1":23,"length2":16},{"diffs":[[0,"===="],[-1,"===========第二階段score==============="],[1,"第二階段score"],[0,"===="]],"start1":2926,"start2":2926,"length1":43,"length2":17},{"diffs":[[0,"ck_image"],[-1,"_phase3"],[0,"()) {\n  "]],"start1":3182,"start2":3182,"length1":23,"length2":16},{"diffs":[[0,"===="],[-1,"=================第一階段QUIZ=========="],[1,"第一階段def"],[0,"===="]],"start1":3553,"start2":3553,"length1":43,"length2":15},{"diffs":[[0,"  score = 0\n"],[1,"    basic.showString(\"ROUND 1\")\n"],[0,"    for (i ="]],"start1":3644,"start2":3644,"length1":24,"length2":56},{"diffs":[[0,"    //  "],[-1,"再生能源"],[1,"第一回合 Q1~Q6"],[0,"\n       "]],"start1":3722,"start2":3722,"length1":20,"length2":26},{"diffs":[[0,"imit)\n    }\n"],[1,"    basic.showString(\"ROUND 2\")\n"],[0,"    for (i ="]],"start1":3814,"start2":3814,"length1":24,"length2":56},{"diffs":[[0,"//  "],[-1,"非再生能源"],[1,"第二回合 Q7~Q11"],[0,"\n   "]],"start1":3897,"start2":3897,"length1":13,"length2":19},{"diffs":[[0,"===="],[-1,"=================第二階段QUIZ========"],[1,"第二階段def"],[0,"===="]],"start1":4071,"start2":4071,"length1":41,"length2":15},{"diffs":[[0,"===="],[-1,"========按鍵=========="],[1,"按鍵"],[0,"===="]],"start1":4369,"start2":4369,"length1":28,"length2":10}]},{"type":"edited","filename":"main.py","patch":[{"diffs":[[0,"se\n\n"],[-1,"\"\"\"\n要確認correct ID\n\"\"\""],[1,"\n#huskylens,ID 要再確認"],[0,"\ndef"]],"start1":249,"start2":249,"length1":29,"length2":27},{"diffs":[[0,"mage"],[-1,"_phase1"],[0,"():\n    "],[-1,"for id in [3, 4]:  # ✅ 請改為你第一回合的正確圖卡 ID\n        if huskylens.isAppear_s(id):\n            return True\n    return False\n\ndef check_image_phase2():\n    for id in [6, 7]:  # ✅ 請改為你第二回合的正確圖卡 ID\n        if huskylens.isAppear_s(id):\n            return True\n    return False\n\ndef check_image_phase3():\n    for id in [10, 11]:  # ✅ 第二階段用的正確圖卡 ID\n        if huskylens.isAppear_s(id):\n            return True\n"],[1,"huskylens.request()\n    if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK):\n        basic.show_string(\"Good job\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n    "],[0,"    "]],"start1":284,"start2":284,"length1":421,"length2":222},{"diffs":[[0,"n False\n"],[1,"\n\n"],[0,"\"\"\"\n要確認w"]],"start1":511,"start2":511,"length1":16,"length2":18},{"diffs":[[0,"\n\n#====="],[-1,"==============="],[0,"check_wr"]],"start1":540,"start2":540,"length1":31,"length2":16},{"diffs":[[0," ID====="],[-1,"="],[0," \n#===第一"]],"start1":565,"start2":565,"length1":17,"length2":16},{"diffs":[[0,"   \n#==="],[-1,"========="],[0,"第二階段wron"]],"start1":1078,"start2":1078,"length1":25,"length2":16},{"diffs":[[0,"===="],[-1,"==============第一階段score============="],[1,"第一階段score"],[0,"===="]],"start1":1343,"start2":1343,"length1":44,"length2":17},{"diffs":[[0,"ck_image"],[-1,"_phase1"],[0,"():\n    "]],"start1":1602,"start2":1602,"length1":23,"length2":16},{"diffs":[[0,"ck_image"],[-1,"_phase2"],[0,"():\n    "]],"start1":2163,"start2":2163,"length1":23,"length2":16},{"diffs":[[0,"===="],[-1,"===========第二階段score==============="],[1,"第二階段score"],[0,"===="]],"start1":2499,"start2":2499,"length1":43,"length2":17},{"diffs":[[0,"ck_image"],[-1,"_phase3"],[0,"():\n    "]],"start1":2740,"start2":2740,"length1":23,"length2":16},{"diffs":[[0,"===="],[-1,"=================第一階段QUIZ=========="],[1,"第一階段def"],[0,"===="]],"start1":3070,"start2":3070,"length1":43,"length2":15},{"diffs":[[0,"re = 0\n\n"],[1,"    basic.show_string(\"ROUND 1\")\n"],[0,"    for "]],"start1":3166,"start2":3166,"length1":16,"length2":49},{"diffs":[[0," 7):  # "],[-1,"再生能源"],[1,"第一回合 Q1~Q6"],[0,"\n       "]],"start1":3228,"start2":3228,"length1":20,"length2":26},{"diffs":[[0,"ime_limit)\n\n"],[1,"    basic.show_string(\"ROUND 2\")\n"],[0,"    for i in"]],"start1":3314,"start2":3314,"length1":24,"length2":57},{"diffs":[[0,"  # "],[-1,"非再生能源"],[1,"第二回合 Q7~Q11"],[0,"\n   "]],"start1":3385,"start2":3385,"length1":13,"length2":19},{"diffs":[[0,"===="],[-1,"=================第二階段QUIZ========"],[1,"第二階段def"],[0,"===="]],"start1":3551,"start2":3551,"length1":41,"length2":15},{"diffs":[[0,"e)\n\n"],[-1,"#============按鍵==============\n"],[0,"def "]],"start1":3868,"start2":3868,"length1":38,"length2":8},{"diffs":[[0," False\n\n"],[1,"#====按鍵===="],[0,"\ndef on_"]],"start1":4328,"start2":4328,"length1":16,"length2":27},{"diffs":[[0,"ssed_ab)"],[1,"\n"]],"start1":4885,"start2":4885,"length1":8,"length2":9}]}]},{"timestamp":1747129464072,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ment"],[-1," id=\"5HeZbp6!%`cj1)j8=4JY\""],[0," x=\"1603"],[1,".28125"],[0,"\" y="]],"start1":528,"start2":528,"length1":42,"length2":22},{"diffs":[[0,"\" w=\"202"],[1,".3492088317871"],[0,"\" h=\"120"]],"start1":554,"start2":554,"length1":16,"length2":30},{"diffs":[[0,"ment"],[-1," id=\"_-uHF0G_gp*+!pQ$F|!7\""],[0," x=\"1078"],[1,".28125"],[0,"\" y="]],"start1":615,"start2":615,"length1":42,"length2":22},{"diffs":[[0,"art\""],[-1," id=\"_B0tH}!5Yl+`%tH,(@a$\""],[0," x=\""]],"start1":765,"start2":765,"length1":34,"length2":8},{"diffs":[[0,"ent\""],[-1," id=\"+G._#kUxh7#o6pHXcleH\""],[0,"><mu"]],"start1":840,"start2":840,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"I)}1w/tk:Mz(VO+~_GG@\""],[0,"><fi"]],"start1":997,"start2":997,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"*@)[|ADYSrNd-AAkM=U!\""],[0,"><fi"]],"start1":1162,"start2":1162,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"z@u:^8:S38VlVY2)rP$l\""],[0,"><fi"]],"start1":1241,"start2":1241,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"_EFdpR)Bf!s8]}G8h;4F\""],[0,"><fi"]],"start1":1403,"start2":1403,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"H:tB]EIk6_6T#W+wSKyb\""],[0,"><fi"]],"start1":1482,"start2":1482,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"@CU7VKn`7C(ldn[NcIXH\""],[0,"><fi"]],"start1":1649,"start2":1649,"length1":34,"length2":8},{"diffs":[[0,"ent\""],[-1," id=\"-[dpP4%E),;El_2vVp_[\""],[0," x=\""]],"start1":1802,"start2":1802,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"?`7a[7;Q+h8XYGjm^}ug\""],[0,"><va"]],"start1":1913,"start2":1913,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"*l)S:#r8t(r}E4k43eg!\""],[0,"><fi"]],"start1":1952,"start2":1952,"length1":34,"length2":8},{"diffs":[[0,"all\""],[-1," id=\"0UnaCMc#WHHS91fW$Mnm\""],[0,"><mu"]],"start1":2036,"start2":2036,"length1":34,"length2":8},{"diffs":[[0,"ver\""],[-1," id=\"NAsKDjto)ieXr?YLD/1E\""],[0," x=\""]],"start1":2181,"start2":2181,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"JKJv673YJGu9;$!0ee;g\""],[0,"><co"]],"start1":2312,"start2":2312,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"X1d7Z4j`UBWN6%;eOk#}\""],[0,"><fi"]],"start1":2413,"start2":2413,"length1":34,"length2":8},{"diffs":[[0,"on2\""],[-1," id=\"d{C/:Zi0t++|N.Z:O!0#\""],[0,"><fi"]],"start1":2486,"start2":2486,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"dB*0|L_(~WHqh_Dm]aS?\""],[0,"><va"]],"start1":2595,"start2":2595,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"~#q4iW!(=hMq~csMZEi?\""],[0,"><fi"]],"start1":2634,"start2":2634,"length1":34,"length2":8},{"diffs":[[0,"all\""],[-1," id=\"/1mfl~)!{o]-X4;+#bc2\""],[0,"><mu"]],"start1":2722,"start2":2722,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"(Oe6gQRKi%Tzw~QTMBai\""],[0," x=\""]],"start1":2896,"start2":2896,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\":U~GuAt^X7hSBX)3Nd?C\""],[0,"><fi"]],"start1":3153,"start2":3153,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"T[A%I67WIr_rqQX;;FBB\""],[0,"><fi"]],"start1":3318,"start2":3318,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"2kkLe~soUFknQ%a$cj?#\""],[0,"><fi"]],"start1":3382,"start2":3382,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"GeMP9U1~0GTec}!/iy/C\""],[0,"><fi"]],"start1":3464,"start2":3464,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"_$?;P|?:r{5S]HNOYb?=\""],[0,"><fi"]],"start1":3568,"start2":3568,"length1":34,"length2":8},{"diffs":[[0,"ent\""],[-1," id=\"Pb[%cSunp1wX3i[i$D7g\""],[0,"><mu"]],"start1":3653,"start2":3653,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"2T,zTo%NK*`(iXChgaYc\""],[0,"><co"]],"start1":4031,"start2":4031,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"0TUvz(K-^^nf{%?D(=#X\""],[0,"><fi"]],"start1":4127,"start2":4127,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"P:wQXXat6?7Lg|xa_tB$\""],[0,"><va"]],"start1":4216,"start2":4216,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"HAbMzZ^HIKNN0mq{4{h@\""],[0,"><fi"]],"start1":4265,"start2":4265,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"tVd}_8Tds(|tw35c(WCa\""],[0," x=\""]],"start1":4460,"start2":4460,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"dV6qwjmn?3_5zgm@S*UM\""],[0,"><mu"]],"start1":4820,"start2":4820,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"QDY}`p~32lh@Sx?n1eX(\""],[0,"><fi"]],"start1":4967,"start2":4967,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"6R|y:@vFPR:$}gItG4A4\""],[0,"><fi"]],"start1":5067,"start2":5067,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"OlY`b`F3)~]vo#z$B/NU\""],[0,"><fi"]],"start1":5142,"start2":5142,"length1":34,"length2":8},{"diffs":[[0,"ile\""],[-1," id=\"$h@ab+o*~l#e_#$(d?R!\""],[0,"><va"]],"start1":5226,"start2":5226,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"F~(30-}((J-}73x5IK2Z\""],[0,"><fi"]],"start1":5274,"start2":5274,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"LKqO$mtOmvJkA@[kKulP\""],[0,"><fi"]],"start1":5342,"start2":5342,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"$BR6f8/;8+2%.sTL{N(m\""],[0,"><fi"]],"start1":5412,"start2":5412,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"zC06:maX2eKP/y8B*K.^\""],[0,"><fi"]],"start1":5476,"start2":5476,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"ykyiy.hENZAqmMnPLV_I\""],[0,"><fi"]],"start1":5588,"start2":5588,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"kM}-?fn03_.#_x9NbsY[\""],[0,"><va"]],"start1":5702,"start2":5702,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"o$dej4hgxyS:PvFZq=Ke\""],[0,"><fi"]],"start1":5751,"start2":5751,"length1":34,"length2":8},{"diffs":[[0,"use\""],[-1," id=\"D[JCM/}f8e8#m^rVQnrw\""],[0,"><va"]],"start1":5853,"start2":5853,"length1":34,"length2":8},{"diffs":[[0,"ker\""],[-1," id=\"ds(@IZOr9`SUM4l-MjN.\""],[0,"><fi"]],"start1":5899,"start2":5899,"length1":34,"length2":8},{"diffs":[[0,"all\""],[-1," id=\"mPLXb8v-J8~#~c|7xT|s\""],[0,"><mu"]],"start1":5979,"start2":5979,"length1":34,"length2":8},{"diffs":[[0,"nge\""],[-1," id=\"AHm).!+#eOBCP:*pS$u=\""],[0,"><fi"]],"start1":6092,"start2":6092,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"e}`|p!6(!Lo`(/gCv[~{\""],[0,"><fi"]],"start1":6192,"start2":6192,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"5prQ`KIcS%$@I0.=0r2*\""],[0," x=\""]],"start1":6379,"start2":6379,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"G$$r$ar`V}qcZJpHj*sq\""],[0,"><fi"]],"start1":6571,"start2":6571,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"%J**ql;-e(:w~Sfvz7P:\""],[0,"><fi"]],"start1":6738,"start2":6738,"length1":34,"length2":8},{"diffs":[[0,"fer\""],[-1," id=\"Eqm)gq69TsjsaWe[d{K-\""],[0,"></b"]],"start1":6807,"start2":6807,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"?y/0|Dx1u031M*p:_}_)\""],[0,"><va"]],"start1":6855,"start2":6855,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\";uJHzfN#,x8inV9zNeyc\""],[0,"><fi"]],"start1":6902,"start2":6902,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"4Q.wHF)rKPOPKx}5NR*%\""],[0,"><fi"]],"start1":6970,"start2":6970,"length1":34,"length2":8},{"diffs":[[0,"ent\""],[-1," id=\"tPzR9%vVuNd6*E7`1Vgz\""],[0,"><mu"]],"start1":7099,"start2":7099,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"e]B;`m+|$nX6d,e7affx\""],[0,"><mu"]],"start1":7243,"start2":7243,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"IaV*w$Ms*cWyUg.7v($t\""],[0,"><fi"]],"start1":7322,"start2":7322,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"ySty+iWzay?|BCe]aZ;T\""],[0,"><fi"]],"start1":7390,"start2":7390,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"oPujmY7+i(9sXl0!{`m;\""],[0,"><fi"]],"start1":7460,"start2":7460,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"9_5nn#@M9azZ1(2V,YXj\""],[0,"><fi"]],"start1":7524,"start2":7524,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"hx)f*vcm!ZQvm$9aL4O?\""],[0,"><fi"]],"start1":7639,"start2":7639,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"zChCwpKR#Mb%jOLE}4:J\""],[0,"><fi"]],"start1":7694,"start2":7694,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"%CSh:_bsCdZ!*^-$mqX^\""],[0,"><va"]],"start1":7819,"start2":7819,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"b]i|]d5~HmTs!:+L@PP|\""],[0,"><fi"]],"start1":7858,"start2":7858,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"ij}aPz:wd9R6}0CU!27%\""],[0,"><mu"]],"start1":7942,"start2":7942,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"|hpTTx8u8^36J0B?$YjF\""],[0,"><fi"]],"start1":8078,"start2":8078,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"9ZJy2{b|WY|Cm3SGfJ^b\""],[0,"><fi"]],"start1":8146,"start2":8146,"length1":34,"length2":8},{"diffs":[[0,"nge\""],[-1," id=\"DOyR*/.rk{@xO7C$K/W,\""],[0,"><fi"]],"start1":8278,"start2":8278,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"7L-S~wcIlE6[ttQ,X,9v\""],[0,"><fi"]],"start1":8390,"start2":8390,"length1":34,"length2":8},{"diffs":[[0,"nge\""],[-1," id=\"c[zH,9|hX$2K9Dz#(Dn_\""],[0,"><fi"]],"start1":8508,"start2":8508,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"gp?I;ztghG[~WfN@I..%\""],[0,"><fi"]],"start1":8666,"start2":8666,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"h_:%,Z+oPza|7{w9%0X.\""],[0,"><fi"]],"start1":8812,"start2":8812,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"oHA~r6J;*euHB9tkkR}#\""],[0,"><fi"]],"start1":8880,"start2":8880,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"PB:TlQmAX]|/5#tOl]/d\""],[0,"><fi"]],"start1":8950,"start2":8950,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"N~b[wtr5-qPS{{Ea)t^U\""],[0,"><fi"]],"start1":9014,"start2":9014,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\")L|*{6+zLjC=qG12wHJ^\""],[0,"><fi"]],"start1":9129,"start2":9129,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"DF.2y6izFIeE`DL%[bKP\""],[0,"><fi"]],"start1":9184,"start2":9184,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"hsc*LZ(Zd$;(t;F5gJ^W\""],[0,"><co"]],"start1":9313,"start2":9313,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\";1s??j(]pp:Ab4CVlB]7\""],[0,"><fi"]],"start1":9407,"start2":9407,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"8WE~]{Ss9GuQ[_5}l+Cl\""],[0," x=\""]],"start1":9592,"start2":9592,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"|]t8lC0b46_lw#Mo6*9h\""],[0,"><fi"]],"start1":9844,"start2":9844,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"*nV^Fnz_d}jn{H/Q6)lq\""],[0,"><fi"]],"start1":10008,"start2":10008,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"f_E7NS=KSYRgDA2@@::I\""],[0,"><fi"]],"start1":10072,"start2":10072,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"KXAsCmm%#JvaIBCmwer7\""],[0,"><fi"]],"start1":10153,"start2":10153,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"P/Kj_c_e/5tCq%{$r5{e\""],[0,"><fi"]],"start1":10265,"start2":10265,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"|,i,h00Ub}JN*T8+n]+}\""],[0,"><co"]],"start1":10350,"start2":10350,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\".VwP[pK5|K`M2Nzm[{W~\""],[0,"><fi"]],"start1":10445,"start2":10445,"length1":34,"length2":8},{"diffs":[[0,"all\""],[-1," id=\"C#6Ru5tA(x(@XiLp=Z!#\""],[0,"><mu"]],"start1":10531,"start2":10531,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"griM;EZ1fa`H/XOfSyQd\""],[0,"><fi"]],"start1":10743,"start2":10743,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"LoA*x:%iLHr-8t=|9*o4\""],[0,"><fi"]],"start1":10807,"start2":10807,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"@/i5ZXpfh-=g(M|3PS|j\""],[0,"><co"]],"start1":10928,"start2":10928,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"hLMV8rPy],vQjHk)y!y%\""],[0,"><fi"]],"start1":11023,"start2":11023,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"j!:gBbRRukY*57,JRLxN\""],[0,"><va"]],"start1":11116,"start2":11116,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"/[RDO*D11XaYK_Rv43%M\""],[0,"><fi"]],"start1":11165,"start2":11165,"length1":34,"length2":8},{"diffs":[[0,"age\""],[-1," id=\"o.lboKB(@Q#uU;$VOa~`\""],[0,"><co"]],"start1":11287,"start2":11287,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"iF%q$b7g_ahngleH.u^G\""],[0,"><fi"]],"start1":11379,"start2":11379,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"ez+XmDs7@m!,0*soN*;_\""],[0,"><va"]],"start1":11468,"start2":11468,"length1":34,"length2":8},{"diffs":[[0,"tic\""],[-1," id=\"k={dt^bP5bgE1Vqt%-$L\""],[0,"><fi"]],"start1":11519,"start2":11519,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"a1fGcgoC~+UJCMF;^]Qs\""],[0,"><fi"]],"start1":11590,"start2":11590,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"5aV,4{Aut?]$Q.Svoh7h\""],[0,"><fi"]],"start1":11654,"start2":11654,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"eO:7Ba)`!PMpE+^Vj$W_\""],[0,"><fi"]],"start1":11770,"start2":11770,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"]0gGd{NoU~x-/80--sbK\""],[0,"><fi"]],"start1":11834,"start2":11834,"length1":34,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":311,"start2":311,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// 在這裡測試；當此封包作為擴充功能時，將不會編譯此內容。\n"}]}],"snapshots":[{"timestamp":1747111888745,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"test1\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1747114082943,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"","README.md":"","main.py":"def on_button_pressed_a():\n    basic.show_string(\"start!\")\n    start_quiz()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\nquestion_count = 10  # 題目數量\ntime_limit = 30       # 每題 30 秒\n\ndef display_countdown(seconds):\n    \"\"\"\n    顯示倒數時間，並同時檢查圖卡\n    \"\"\"\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        basic.pause(1000)  # 每秒更新一次\n        \n        # 在每秒倒數時檢查圖卡\n        analyze_image()\n\ndef analyze_image():\n    \"\"\"\n    分析哈士奇 AI 鏡頭回傳結果\n    \"\"\"\n    data = serial.read_string()\n    if data:\n        data = data.strip()\n        if data == \"RENEWABLE\":\n            basic.show_string(\"Good\")\n        elif data == \"NON-RENEWABLE\":\n            basic.show_string(\"Try again\")\n\ndef start_quiz():\n    \"\"\"\n    啟動題目\n    \"\"\"\n    for question in range(1, question_count + 1):\n        # 顯示題號\n        basic.show_string(\"Q\" + str(question))\n        # 倒數計時並進行圖卡檢查\n        display_countdown(time_limit)\n        # 短暫暫停\n        basic.pause(1000)\n","pxt.json":"{\n    \"name\": \"test1\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747116056855,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"></block><block type=\"device_forever\" x=\"225\" y=\"20\"></block></xml>","main.ts":"","README.md":"","main.py":"# 初始化\nquestion_count = 10  # 題目數量\ntime_limit = 30       # 每題 30 秒\nadvance_time = 300    # 進階題階段時間（300秒）\nscore = 0             # 第一階段分數\nadvance_score = 0     # 進階題分數\nis_advanced = False   # 是否進入進階題階段\n\n#第一階段code\n\ndef display_countdown(seconds):\n    \"\"\"\n    倒數計時並檢查圖卡\n    \"\"\"\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        basic.pause(1000)\n        analyze_image()\n\ndef analyze_image():\n    \"\"\"\n    分析哈士奇 AI 鏡頭回傳結果\n    \"\"\"\n    global score, advance_score, is_advanced\n    \n    data = serial.read_string()\n    if data:\n        data = data.strip()\n        if data == \"RENEWABLE\":\n            basic.show_string(\"Good job\")\n            # 判斷是否為進階題階段\n            if is_advanced:\n                advance_score += 5  # 進階題得分\n            else:\n                score += 1  # 第一階段得分\n        elif data == \"NON-RENEWABLE\":\n            basic.show_string(\"Try again\")\n\ndef start_quiz():\n    \"\"\"\n    第一階段測驗\n    \"\"\"\n    global score, is_advanced\n    is_advanced = False\n    score = 0  # 重置分數\n    \n    for question in range(1, question_count + 1):\n        basic.show_string(\"Q\" + str(question))\n        display_countdown(time_limit)\n        basic.pause(1000)\n    \n    # 顯示第一階段分數\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\n#第二階段code\n\ndef start_advanced():\n    \"\"\"\n    進階題階段\n    \"\"\"\n    global advance_score, is_advanced\n    is_advanced = True\n    advance_score = 0  # 重置進階題分數\n    \n    basic.show_string(\"Advanced\")\n    display_countdown(advance_time)\n    \n    # 顯示進階題分數\n    basic.show_string(\"Adv Score:\")\n    basic.show_number(advance_score)\n    \n    # 顯示總分\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\n\ndef check_ab_pressed():\n    \"\"\"\n    AB鍵開始 \n    \"\"\"\n    if input.button_is_pressed(Button.AB):\n        basic.show_string(\"Adv Start!\")\n        start_advanced()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\n# 持續檢查 A+B 是否同時按下\nbasic.forever(check_ab_pressed)\n","pxt.json":"{\n    \"name\": \"test1\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747117867093,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score</variable><variable id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</variable><variable id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data</variable><variable id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</variable><variable id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</variable></variables><comment x=\"1603.28125\" y=\"567\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1078.28125\" y=\"567\" w=\"480\" h=\"120\">\n第一階段分數\nhuskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"411\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"659\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1055\" y=\"20\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"f2ia07xij9sgs16czsglii\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"huskylens.init_i2c()\nhuskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\n\n\n#huskylens,ID 要再確認\ndef check_image():\n    huskylens.request()\n    if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK):\n        basic.show_string(\"Good\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n        return False\n\n\ndef display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        if check_image():\n            if is_advanced:\n                global advance_score\n                advance_score += 5\n            else:\n                global score\n                score += 1\n            break  # 答對跳出此題倒數\n        basic.pause(1000)\n\ndef start_quiz():\n    global is_advanced, score\n    is_advanced = False\n    score = 0\n    for i in range(1, question_count + 1):\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\ndef start_advanced():\n    global is_advanced, advance_score\n    is_advanced = True\n    advance_score = 0\n    basic.show_string(\"ADV\")\n    display_countdown(advance_time)\n    basic.show_string(\"AdvScore:\")\n    basic.show_number(advance_score)\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    basic.show_string(\"Start!\")\n    start_quiz()\n\ndef on_button_pressed_ab():\n    basic.show_string(\"AdvStart!\")\n    start_advanced()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\ninput.on_button_pressed(Button.AB, on_button_pressed_ab)\n","pxt.json":"{\n    \"name\": \"test1\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747121042141,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score</variable><variable id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</variable><variable id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data</variable><variable id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</variable><variable id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</variable></variables><comment x=\"1603.28125\" y=\"567\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1078.28125\" y=\"567\" w=\"480\" h=\"120\">\n第一階段分數\nhuskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"411\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"659\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1055\" y=\"20\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"f2ia07xij9sgs16czsglii\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"huskylens.init_i2c()\nhuskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\nis_running = False\n\n\n#huskylens,ID 要再確認\ndef check_image():\n    huskylens.request()\n    if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK):\n        basic.show_string(\"Good job\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n        return False\n\n\ndef display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        if check_image():\n            if is_advanced:\n                global advance_score\n                advance_score += 5\n            else:\n                global score\n                score += 1\n            break  \n        basic.pause(1000)\n\ndef start_quiz():\n    global is_advanced, score\n    is_advanced = False\n    score = 0\n    for i in range(1, question_count + 1):\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\ndef start_advanced():\n    global is_advanced, advance_score\n    is_advanced = True\n    advance_score = 0\n    basic.show_string(\"ADV\")\n    display_countdown(advance_time)\n    basic.show_string(\"AdvScore:\")\n    basic.show_number(advance_score)\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n    basic.show_string(\"Start!\", 100)  # 第二個參數讓顯示速度變慢\n    basic.pause(1500)  # 給使用者時間準備\n    start_quiz()\n\n    is_running = False\n\n\ndef on_button_pressed_ab():\n    basic.show_string(\"AdvStart!\")\n    basic.pause(1000)\n    start_advanced()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\ninput.on_button_pressed(Button.AB, on_button_pressed_ab)\n","pxt.json":"{\n    \"name\": \"test1\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747123024334,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score</variable><variable id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</variable><variable id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data</variable><variable id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</variable><variable id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</variable></variables><comment x=\"1603.28125\" y=\"567\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1078.28125\" y=\"567\" w=\"480\" h=\"120\">\n第一階段分數\nhuskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"411\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"659\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1055\" y=\"20\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"f2ia07xij9sgs16czsglii\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"use_huskylens = False\nif use_huskylens:\n    huskylens.init_i2c()\n    huskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\nis_running = False\n\n\n#huskylens,ID 要再確認\ndef check_image():\n    huskylens.request()\n    if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK):\n        basic.show_string(\"Good job\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n        return False\n \n#check_wrong_image in ID  or in correct_image\n\n#def check_wrong_image():\n#    for id in [4, 5, 6]:  # 這些是錯誤圖卡 ID\n#        if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK, id):\n#            return True\n#    return False\n\ndef check_wrong_image():\n    # 有出現任何圖卡，但不是正確的圖卡\n    return huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK) and not check_image()\n\n\n\ndef display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        # correct_answer\n        if check_image():\n            basic.show_string(\"Good job\")\n            if is_advanced:\n                global advance_score\n                advance_score += 5\n            else:\n                global score\n                score += 1\n            break  # ✅ 答對就結束本題，進入下一題\n\n        # wrong_answer\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n#第一階段def\ndef start_quiz():\n    global is_advanced, score\n    is_advanced = False\n    score = 0\n    for i in range(1, question_count + 1):\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\n#第二階段def\ndef start_advanced():\n    global is_advanced, advance_score\n    is_advanced = True\n    advance_score = 0\n    basic.show_string(\"ADV\")\n    display_countdown(advance_time)\n    basic.show_string(\"AdvScore:\")\n    basic.show_number(advance_score)\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n    basic.show_string(\"Start!\", 50)  # 調整一下要多快\n    basic.pause(1000)  # 準備時間\n    start_quiz()\n\n    is_running = False\n\n\ndef on_button_pressed_ab():\n    basic.show_string(\"AdvStart!\")\n    basic.pause(1000)\n    start_advanced()\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\ninput.on_button_pressed(Button.AB, on_button_pressed_ab)\n","pxt.json":"{\n    \"name\": \"test2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747125249413,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score</variable><variable id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</variable><variable id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data</variable><variable id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</variable><variable id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</variable></variables><comment x=\"1603.28125\" y=\"567\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1078.28125\" y=\"567\" w=\"480\" h=\"120\">\n第一階段分數\nhuskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"411\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"659\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1055\" y=\"20\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"f2ia07xij9sgs16czsglii\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"use_huskylens = False\nif use_huskylens:\n    huskylens.init_i2c()\n    huskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\nis_running = False\n\n\n#huskylens,ID 要再確認\ndef check_image():\n    huskylens.request()\n    if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK):\n        basic.show_string(\"Good job\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n        return False\n \n#check_wrong_image in ID  or in correct_image\n\n#def check_wrong_image():\n#    for id in [4, 5, 6]:  # 這些是錯誤圖卡 ID\n#        if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK, id):\n#            return True\n#    return False\n\ndef check_wrong_image():\n    # 有出現任何圖卡，但不是正確的圖卡\n    return huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK) and not check_image()\n\n#第一階段score\ndef display_countdown(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        # correct_answer\n        if check_image():\n            basic.show_string(\"Good job\")\n            global score\n            score += 1  # ✅ 只加第一階段分數\n            break\n\n        # wrong_answer\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n#第二階段score\ndef display_advance_mode(seconds: number):\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        if check_image():\n            basic.show_string(\"Good job\")\n            global advance_score\n            advance_score += 5\n\n        elif check_wrong_image():\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n#第一階段def\ndef start_quiz():\n    global is_advanced, score\n    is_advanced = False\n    score = 0\n    for i in range(1, question_count + 1):\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\n#第二階段def\ndef start_advanced():\n    global is_advanced, advance_score\n    is_advanced = True\n    advance_score = 0\n    basic.show_string(\"ADV\")\n    display_advance_mode(advance_time) #300秒\n\n    basic.show_string(\"AdvScore:\")\n    basic.show_number(advance_score)\n\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n\n    start_text = \"START!\"\n    start_tones = [262, 294, 330, 349, 392, 440]  # C4 ~ A4 對應每個字\n\n    for i in range(len(start_text)):\n        basic.show_string(start_text[i])\n        music.play_tone(start_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)\n\n    basic.pause(500)\n    start_quiz()\n    is_running = False\n\n\ndef on_button_pressed_ab():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n\n    adv_text = \"START!\"\n    adv_tones = [220, 196, 175, 165]  \n\n    for i in range(len(adv_text)):\n        basic.show_string(adv_text[i])\n        music.play_tone(adv_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)\n\n    basic.pause(500)\n    start_advanced()\n    is_running = False\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\ninput.on_button_pressed(Button.AB, on_button_pressed_ab)\n","pxt.json":"{\n    \"name\": \"test2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747127816106,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score</variable><variable id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</variable><variable id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data</variable><variable id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</variable><variable id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</variable></variables><comment x=\"1603.28125\" y=\"567\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1078.28125\" y=\"567\" w=\"480\" h=\"120\">\n第一階段分數\nhuskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"411\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"659\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1055\" y=\"20\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"f2ia07xij9sgs16czsglii\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"use_huskylens = False\nif use_huskylens:\n    huskylens.init_i2c()\n    huskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\nis_running = False\n\n\n#huskylens,ID 要再確認\ndef check_image():\n    huskylens.request()\n    if huskylens.isAppear_s(HUSKYLENSResultType_t.HUSKYLENS_RESULT_BLOCK):\n        basic.show_string(\"Good job\")\n        return True\n    else:\n        basic.show_string(\"Try again\")\n        return False\n \n#=====check_wrong_image ID=====\n#===第一階段wrong====\ndef check_wrong_image_phase1(shown_ids: List[number]) -> bool:\n    for id in [1, 2, 5]:\n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False\n#===第二階段wrong====\ndef check_wrong_image_phase2(shown_ids: List[number]) -> bool:\n    for id in [8, 9]:\n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False\n\n#=====第一階段score=====\ndef display_countdown(seconds: number):\n    shown_wrong_ids: List[number] = []  \n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        if check_image():\n            basic.show_string(\"Good job\")\n            global score\n            score += 1\n            break\n\n        elif check_wrong_image_phase1(shown_wrong_ids):\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n#====第二階段score====\ndef display_advance_mode(seconds: number):\n    shown_wrong_ids: List[number] = []  \n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n        huskylens.request()\n\n        if check_image():\n            basic.show_string(\"Good job\")\n            global advance_score\n            advance_score += 5\n\n        elif check_wrong_image_phase2(shown_wrong_ids):\n            basic.show_string(\"Try again\")\n\n        basic.pause(1000)\n\n#=====第一階段def=====\ndef start_quiz():\n    global is_advanced, score\n    is_advanced = False\n    score = 0\n    for i in range(1, question_count + 1):\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\n#=====第二階段def======\ndef start_advanced():\n    global is_advanced, advance_score\n    is_advanced = True\n    advance_score = 0\n    display_advance_mode(advance_time)  #300秒\n\n    basic.show_string(\"AdvScore:\")\n    basic.show_number(advance_score)\n\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\ndef on_button_pressed_a():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n\n    start_text = \"START!\"\n    start_tones = [262, 294, 330, 349, 392, 440]  # C4 ~ A4 對應每個字\n\n    for i in range(len(start_text)):\n        basic.show_string(start_text[i])\n        music.play_tone(start_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)\n\n    basic.pause(500)\n    start_quiz()\n    is_running = False\n\n#====按鍵====\ndef on_button_pressed_ab():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n\n    adv_text = \"START!\"\n    adv_tones = [220, 196, 175, 165]  \n\n    for i in range(len(adv_text)):\n        basic.show_string(adv_text[i])\n        music.play_tone(adv_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)\n\n    basic.pause(500)\n    start_advanced()\n    is_running = False\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\ninput.on_button_pressed(Button.AB, on_button_pressed_ab)\n","pxt.json":"{\n    \"name\": \"test2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}},{"timestamp":1747129741867,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</variable><variable id=\"q-diLv=I`BrdrAPOa!fZ\">score</variable><variable id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</variable><variable id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</variable><variable id=\"I0%=c5{rQoscPMJNDD$B\">i</variable><variable id=\"v,o|?p~=;#nW.ov7m?mf\">data</variable><variable id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</variable><variable id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</variable></variables><comment x=\"1603.28125\" y=\"567\" w=\"202.3492088317871\" h=\"120\">\n進階題階段時間（300秒）\n</comment><comment x=\"1078.28125\" y=\"567\" w=\"480\" h=\"120\">\n第一階段分數\nhuskylens.init_mode(protocolAlgorithm.ALGORITHM_FACE_RECOGNITION)\n</comment><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let data = &quot;&quot;\" numlines=\"1\" declaredvars=\"data\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xLRoW@-QKG@DEI8yhWYR\">question_count</field><comment pinned=\"false\" h=\"80\" w=\"160\">初始化</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"B^wKS]mhxim7M{qw0G$6\">time_limit</field><comment pinned=\"false\" h=\"80\" w=\"160\">題目數量</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">30</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field><comment pinned=\"false\" h=\"80\" w=\"160\">每題 30 秒</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">300</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"411\" y=\"20\"><field name=\"NAME\">Button.A</field><statement name=\"HANDLER\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"659\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">持續檢查 A+B 是否同時按下</comment><statement name=\"HANDLER\"><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">AB鍵開始</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"device_get_button2\"><field name=\"NAME\">Button.AB</field></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Start!</field></shadow></value><next><block type=\"function_call\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1055\" y=\"20\"><mutation name=\"start_quiz\" functionid=\"_%7B[4hTDpR^nvgF~+JI\"></mutation><field name=\"function_name\">start_quiz</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題分數</comment><data>0;1</data><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段測驗</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"for (let question = 1; question &lt; question_count + 1; question++) {\" line1=\"        basic.showString(&quot;Q&quot; + (&quot;&quot; + (&quot;&quot; + question)))\" line2=\"        display_countdown(time_limit)\" line3=\"        basic.pause(1000)\" line4=\"    }\" numlines=\"5\"></mutation><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示第一階段分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1721\" y=\"20\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><field name=\"function_name\">display_countdown</field><comment pinned=\"false\" h=\"80\" w=\"160\">是否進入進階題階段\n第一階段code</comment><value name=\"f2ia07xij9sgs16czsglii\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">seconds</field></block></value><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">seconds</field></block></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO\"><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field></block></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">1000</field></shadow></value><next><block type=\"function_call\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><next><block type=\"variables_change\"><field name=\"VAR\" id=\"I0%=c5{rQoscPMJNDD$B\">i</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">-1</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"567\"><mutation name=\"analyze_image\" functionid=\"_eyN2jre!2Y^e*7Wn0Lv\"></mutation><field name=\"function_name\">analyze_image</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field><comment pinned=\"false\" h=\"80\" w=\"160\">分析哈士奇 AI 鏡頭回傳結果</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"data = _py.py_string_strip(data)\" numlines=\"1\"></mutation><next><block type=\"controls_if\"><mutation elseif=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">RENEWABLE</field></block></value></block></value><statement name=\"DO0\"><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Good job</field></shadow></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">判斷是否為進階題階段</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field></block></value><statement name=\"DO0\"><block type=\"variables_change\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_change\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題得分</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"v,o|?p~=;#nW.ov7m?mf\">data</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">NON-RENEWABLE</field></block></value></block></value><statement name=\"DO1\"><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">第一階段得分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Try again</field></shadow></value></block></statement></block></next></block></statement></block></next></block></statement></block><block type=\"function_definition\" x=\"597\" y=\"567\"><mutation name=\"start_advanced\" functionid=\"a:Yfy,#pB,fu]-2FXpn{\"></mutation><field name=\"function_name\">start_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">第二階段code</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NJ=HmFa)F#CA(XSA4uyV\">is_advanced</field><comment pinned=\"false\" h=\"80\" w=\"160\">進階題階段</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">重置進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Advanced</field></shadow></value><next><block type=\"function_call\"><mutation name=\"display_countdown\" functionid=\"Z:i/4e+^.}x~$@bQ7[s=\"><arg name=\"seconds\" id=\"f2ia07xij9sgs16czsglii\" type=\"number\"></arg></mutation><value name=\"f2ia07xij9sgs16czsglii\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p^LlwfyIexS[1E`-dYEu\">advance_time</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示進階題分數</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Adv Score:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value><next><block type=\"device_print_message\"><comment pinned=\"false\" h=\"80\" w=\"160\">顯示總分</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Total:</field></shadow></value><next><block type=\"device_show_number\"><value name=\"number\"><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"q-diLv=I`BrdrAPOa!fZ\">score</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"}ikaH|?{h6Be]aoI_R+x\">advance_score</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"use_huskylens = False\nif use_huskylens:\n    huskylens.init_i2c()\n    huskylens.init_mode(protocolAlgorithm.OBJECTCLASSIFICATION)\n\nscore = 0\nadvance_score = 0\nis_advanced = False\nquestion_count = 10\ntime_limit = 30\nadvance_time = 300\nis_running = False\n\n\"\"\"\n要確認correct ID\n\"\"\"\ndef check_image_phase1():\n    for id in [3, 4]:  # ✅ 請改為你第一回合的正確圖卡 ID\n        if huskylens.isAppear_s(id):\n            return True\n    return False\n\ndef check_image_phase2():\n    for id in [6, 7]:  # ✅ 請改為你第二回合的正確圖卡 ID\n        if huskylens.isAppear_s(id):\n            return True\n    return False\n\ndef check_image_phase3():\n    for id in [10, 11]:  # ✅ 第二階段用的正確圖卡 ID\n        if huskylens.isAppear_s(id):\n            return True\n    return False\n\"\"\"\n要確認wrong ID\n\"\"\"\n\n#====================check_wrong_image ID====== \n#===第一階段wrong====\ndef check_wrong_image_phase1(shown_ids: List[number]) -> bool:\n    for id in [1, 2, 5]: \n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False\n\ndef check_wrong_image_phase2(shown_ids: List[number]) -> bool:\n    for id in [6, 7]: \n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False   \n#============第二階段wrong====\ndef check_wrong_image_phase3(shown_ids: List[number]) -> bool:\n    for id in [8, 9]:\n        if huskylens.isAppear_s(id):\n            if not id in shown_ids:\n                shown_ids.append(id)\n                return True\n    return False\n\n#===================第一階段score==================\ndef display_countdown(seconds: number):\n    shown_wrong_ids: List[number] = []\n\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n\n        # 每 3 秒辨識一次\n        if i % 3 == 0:\n            huskylens.request()\n\n            if check_image_phase1():\n                basic.show_string(\"Good job\")\n                global score\n                score += 1\n                break\n\n            elif check_wrong_image_phase1(shown_wrong_ids):\n                music.play_tone(196, music.beat(BeatFraction.EIGHTH))\n                basic.show_string(\"X\")\n\n        basic.pause(1000)\n\ndef display_countdown_phase2(seconds: number):\n    shown_wrong_ids: List[number] = []\n\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n\n        if i % 3 == 0:\n            huskylens.request()\n\n            if check_image_phase2():\n                basic.show_string(\"Good job\")\n                global score\n                score += 1\n                break\n\n            elif check_wrong_image_phase2(shown_wrong_ids):\n                music.play_tone(196, music.beat(BeatFraction.EIGHTH))\n                basic.show_string(\"X\")\n\n        basic.pause(1000)\n\n\n#===============第二階段score===================\ndef display_advance_mode(seconds: number):\n    shown_wrong_ids: List[number] = []\n\n    for i in range(seconds, 0, -1):\n        basic.show_number(i)\n\n        if i % 3 == 0:\n            huskylens.request()\n\n            if check_image_phase3():\n                basic.show_string(\"Good job\")\n                global advance_score\n                advance_score += 5\n\n            elif check_wrong_image_phase2(shown_wrong_ids):\n                music.play_tone(196, music.beat(BeatFraction.EIGHTH))\n                basic.show_string(\"X\")\n\n        basic.pause(1000)\n\n#======================第一階段QUIZ===============\ndef start_quiz():\n    global is_advanced, score\n    is_advanced = False\n    score = 0\n\n    for i in range(1, 7):  # 再生能源\n        basic.show_string(\"Q\" + str(i))\n        display_countdown(time_limit)\n\n    for i in range(7, 12):  # 非再生能源\n        basic.show_string(\"Q\" + str(i))\n        display_countdown_phase2(time_limit)\n\n    basic.show_string(\"Score:\")\n    basic.show_number(score)\n\n#======================第二階段QUIZ==============\ndef start_advanced():\n    global is_advanced, advance_score\n    is_advanced = True\n    advance_score = 0\n    display_advance_mode(advance_time)  #300秒\n\n    basic.show_string(\"AdvScore:\")\n    basic.show_number(advance_score)\n\n    basic.show_string(\"Total:\")\n    basic.show_number(score + advance_score)\n\n#============按鍵==============\ndef on_button_pressed_a():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n\n    start_text = \"START!\"\n    start_tones = [262, 294, 330, 349, 392, 440]  # C4 ~ A4 對應每個字\n\n    for i in range(len(start_text)):\n        basic.show_string(start_text[i])\n        music.play_tone(start_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)\n\n    basic.pause(500)\n    start_quiz()\n    is_running = False\n\n\ndef on_button_pressed_ab():\n    global is_running\n    if is_running:\n        return\n    is_running = True\n\n    basic.clear_screen()\n\n    adv_text = \"START!\"\n    adv_tones = [220, 196, 175, 165]  \n\n    for i in range(len(adv_text)):\n        basic.show_string(adv_text[i])\n        music.play_tone(adv_tones[i], music.beat(BeatFraction.EIGHTH))\n        basic.pause(100)\n\n    basic.pause(500)\n    start_advanced()\n    is_running = False\n\ninput.on_button_pressed(Button.A, on_button_pressed_a)\ninput.on_button_pressed(Button.AB, on_button_pressed_ab)","pxt.json":"{\n    \"name\": \"test2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"Huskylens\": \"github:dfrobot/pxt-dfrobot_huskylens#v2.0.7\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\"\n}\n"}}],"shares":[{"id":"08096-07847-29769-21202","timestamp":1747114656557},{"id":"04779-96457-92436-14146","timestamp":1747122108056},{"id":"42479-86888-55881-49972","timestamp":1747124109865},{"id":"24213-21001-16921-76705","timestamp":1747124414343},{"id":"08296-65184-21868-18763","timestamp":1747126648274},{"id":"26849-96501-85867-29986","timestamp":1747128857990},{"id":"69956-07980-65019-49785","timestamp":1747128928830},{"id":"44352-44108-92731-27068","timestamp":1747129000446},{"id":"91544-89126-43183-07396","timestamp":1747129088980},{"id":"84805-52193-57669-81537","timestamp":1747129493407}],"lastSaveTime":1747129742280}